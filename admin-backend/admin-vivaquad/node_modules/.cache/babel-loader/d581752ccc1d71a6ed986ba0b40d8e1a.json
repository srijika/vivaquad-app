{"ast":null,"code":"var _jsxFileName = \"/var/www/html/project/vivaquad/admin-vivaquad/src/pages/site-setting/action/addEdit.jsx\";\nimport React, { useState, useEffect, useRef, Fragment } from 'react';\nimport { Empty, Modal, Form, Input, Button, Switch, Upload, Dropdown, Menu, Select, notification, Transfer, DatePicker } from 'antd';\nimport { connect } from 'dva';\nimport axios from 'axios';\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 24\n    }\n  }\n};\nconst baseUrl = process.env.REACT_APP_ApiUrl;\n\nconst AddEdit = props => {\n  var _props$detail, _props$detail2, _props$detail3;\n\n  const [form] = Form.useForm();\n  const {\n    dispatch\n  } = props;\n  const [catlist, setCatlist] = useState([]);\n  const [count, setCount] = useState(0);\n  const [dcount, setDCount] = useState(0);\n  const [btnDis, setBtnDis] = useState(false);\n  useEffect(() => {\n    let unmounted = false;\n    return () => {\n      unmounted = true;\n    };\n  }, [dispatch]);\n  useEffect(() => {\n    let unmounted = false;\n    let data = props.detail;\n\n    if (props.detail) {\n      form.setFieldsValue({\n        ['option']: data.option,\n        ['value']: data.value\n      });\n    } else {\n      form.resetFields();\n    }\n\n    return () => {\n      unmounted = true;\n    };\n  }, [props.visible]);\n\n  const onFinish = async val => {\n    setBtnDis(true);\n\n    if (props.detail) {\n      val.id = props.detail._id;\n      let res = await axios.post(`${baseUrl}/api/update/${val.id}/setting`, val);\n      props.returnData(val);\n    } else {\n      let res = await axios.post(`${baseUrl}/api/create/setting`, val);\n      props.returnData(val);\n    }\n\n    setBtnDis(false);\n  };\n\n  const cancelFun = () => {\n    if (!props.detail) form.resetFields();\n    props.closeModel();\n  }; //onOk={()=>form.submit()} onCancel={()=>setPicModel(false)}\n\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    visible: props.visible,\n    title: props.detail ? 'Edit Setting' : 'Add Setting',\n    onCancel: cancelFun,\n    footer: /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 112\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: cancelFun,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      disabled: btnDis,\n      className: \"btn-w25 btn-primary-light\",\n      onClick: () => form.submit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }\n    }, props.detail ? 'Edit Setting' : 'Add Setting')),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(Form, Object.assign({}, formItemLayout, {\n    form: form,\n    name: \"loc_info\",\n    layout: \"vertical\",\n    onFinish: onFinish,\n    className: \"innerFields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"option\",\n    rules: [{\n      required: true,\n      message: 'This field is required!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Option\",\n    disabled: props.detail ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  })), (props === null || props === void 0 ? void 0 : (_props$detail = props.detail) === null || _props$detail === void 0 ? void 0 : _props$detail.option) === \"PUBLIC_WEB_UNDER_MAINTENANCE\" || (props === null || props === void 0 ? void 0 : (_props$detail2 = props.detail) === null || _props$detail2 === void 0 ? void 0 : _props$detail2.option) === \"SELLER_WEB_UNDER_MAINTENANCE\" ? /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: \"100%\"\n    },\n    defaultValue: props === null || props === void 0 ? void 0 : (_props$detail3 = props.detail) === null || _props$detail3 === void 0 ? void 0 : _props$detail3.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Select.Option, {\n    value: \"Yes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Yes\"), /*#__PURE__*/React.createElement(Select.Option, {\n    value: \"No\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"No\"))) : /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"value\",\n    rules: [{\n      required: true,\n      message: 'This field is required!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 8\n    }\n  }))));\n};\n\nexport default connect(_ref => {\n  let {} = _ref;\n  return {};\n})(AddEdit);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/site-setting/action/addEdit.jsx"],"names":["React","useState","useEffect","useRef","Fragment","Empty","Modal","Form","Input","Button","Switch","Upload","Dropdown","Menu","Select","notification","Transfer","DatePicker","connect","axios","formItemLayout","labelCol","xs","span","sm","baseUrl","process","env","REACT_APP_ApiUrl","AddEdit","props","form","useForm","dispatch","catlist","setCatlist","count","setCount","dcount","setDCount","btnDis","setBtnDis","unmounted","data","detail","setFieldsValue","option","value","resetFields","visible","onFinish","val","id","_id","res","post","returnData","cancelFun","closeModel","submit","required","message","width"],"mappings":"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","sourcesContent":["import React, { useState,useEffect,useRef, Fragment} from 'react';\r\nimport {Empty, Modal,Form,Input,Button,Switch, Upload, Dropdown, Menu, Select, notification, Transfer, DatePicker } from 'antd';\r\nimport { connect } from 'dva';\r\nimport axios from 'axios';\r\n\r\nconst formItemLayout = { labelCol: {xs: { span: 24, },  sm: { span: 24, },}};\r\nconst baseUrl = process.env.REACT_APP_ApiUrl\r\n\r\n\r\nconst AddEdit =props => {\r\n\tconst [form] = Form.useForm();\r\n\tconst { dispatch} = props;\r\n\tconst [catlist, setCatlist] = useState([])\r\n\tconst [count, setCount] = useState(0)\r\n\tconst [dcount, setDCount] = useState(0)\r\n\tconst [btnDis, setBtnDis] = useState(false)\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\treturn () => {unmounted = true;}\r\n    },[dispatch])\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\r\n\t\tlet data = props.detail;\t\t\r\n\t\tif(props.detail){\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t  ['option']: data.option, \r\n\t\t\t  ['value']: data.value, \r\n\t\t\t});}\r\n\t\telse{ form.resetFields(); }\r\n\t\treturn () => {unmounted = true;}\r\n    },[props.visible])\r\n\t\r\n\t\r\n\tconst onFinish= async (val) =>{\r\n\t\tsetBtnDis(true);\r\n\t\tif(props.detail){\r\n\t\t\tval.id = props.detail._id\r\n\t\t\tlet res =  await axios.post(`${baseUrl}/api/update/${val.id}/setting`, val);\r\n\t\t\tprops.returnData(val);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlet res =  await axios.post(`${baseUrl}/api/create/setting`, val);\r\n\t\t\tprops.returnData(val);\r\n\t\t}\r\n\r\n\t\tsetBtnDis(false);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tconst cancelFun = ()=>{\r\n\t\tif(!props.detail)\r\n\t\t\tform.resetFields();\r\n\t\tprops.closeModel()\r\n\t}\r\n\r\n\t\r\n\t//onOk={()=>form.submit()} onCancel={()=>setPicModel(false)}\r\n\t\r\nreturn (\r\n\t<Modal visible={props.visible} title={props.detail?'Edit Setting':'Add Setting'} onCancel={cancelFun} footer={<Fragment>\r\n\t\t\t\t<Button onClick={cancelFun}>Cancel</Button>\r\n\t\t\t\t<Button type=\"primary\" disabled={btnDis} className=\"btn-w25 btn-primary-light\" onClick={()=>form.submit()}>{props.detail?'Edit Setting':'Add Setting'}</Button>\r\n\t\t\t</Fragment>} >\r\n\r\n\r\n\t\t\t\t<Form {...formItemLayout} form={form} name=\"loc_info\" layout=\"vertical\" onFinish={onFinish} className=\"innerFields\">\r\n\t\t\t\t\t<Form.Item name=\"option\"  rules={[{ required: true, message: 'This field is required!' }]} >\r\n\t\t\t\t\t\t<Input placeholder=\"Option\"  disabled={ props.detail ? true : false } />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops?.detail?.option === \"PUBLIC_WEB_UNDER_MAINTENANCE\" ||  props?.detail?.option === \"SELLER_WEB_UNDER_MAINTENANCE\" \r\n\t\t\t\t\t\t? \r\n\t\t\t\t\t\t<Form.Item name=\"value\" >\t\r\n\t\t\t\t\t\t\t<Select  style={{ width: \"100%\" }} defaultValue={props?.detail?.value} >\r\n\t\t\t\t\t\t\t <Select.Option value=\"Yes\">Yes</Select.Option>\r\n\t\t\t\t\t\t\t <Select.Option value=\"No\">No</Select.Option>\r\n\t\t\t\t\t\t   </Select>\r\n\t\t\t\t\t\t   </Form.Item>\r\n\r\n\r\n\t\t\t\t\t\t: \t\t\r\n\t\t\t\t\t\t<Form.Item name=\"value\"  rules={[{ required: true, message: 'This field is required!' }]} >\r\n\t\t\t\t\t\t\t<Input placeholder=\"Value\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t</Form>\r\n\t\t\r\n\t</Modal>\r\n)};\r\n\r\nexport default connect(({  }) => ({  \r\n}))(AddEdit);"]},"metadata":{},"sourceType":"module"}