{"ast":null,"code":"var _jsxFileName = \"/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/BasicLayout.js\";\nimport React, { Component, Suspense } from 'react';\nimport { connect } from 'dva';\nimport './BasicLayout.less';\nimport SubRoute from '../../routes/SubRoute';\nimport AppSidebar from '../../components/Sidebar/AppSidebar';\nimport AppHeader from '../../components/AppHeader/AppHeader';\nimport axios from 'axios';\nimport { Modal, Layout } from 'antd'; // import './announcement.scss' \n\nconst {\n  Content,\n  Sider\n} = Layout; //Footer,\n\nconst baseUrl = process.env.REACT_APP_ApiUrl;\n\nclass BasicLayout extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      collapsed: false,\n      broke: false,\n      mobileview: '',\n      announcement: \"\"\n    };\n\n    this.sidebarFun = () => this.state.mobileview ? this.props.dispatch({\n      type: 'global/toggle'\n    }) : null;\n\n    this.brokenFun = val => {\n      this.setState({\n        mobileview: val\n      });\n\n      if (val) {\n        if (!this.props.global.toggleval) this.props.dispatch({\n          type: 'global/toggle'\n        });\n      }\n\n      if (!val) {\n        if (this.props.global.toggleval) this.props.dispatch({\n          type: 'global/toggle'\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    let user_role = localStorage.getItem('role');\n\n    if (user_role === \"SELLER\") {\n      const res = await axios.post(`${baseUrl}/get/announcement/for/seller`);\n      let announcement = res.data.announcement;\n\n      if (announcement != undefined && announcement != \"\" && announcement != null) {\n        this.setState({\n          announcement: res.data.announcement.message\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      global\n    } = this.props;\n    const toggle = global.toggleval;\n    return /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"headerdiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(AppHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 6\n      }\n    })), this.state.announcement ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50px',\n        background: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"marquee\", {\n      style: {\n        background: \"lightblue\",\n        height: '50px'\n      },\n      class: \"ann-marquee\",\n      behavior: \"scroll\",\n      direction: \"left\",\n      scrollamount: \"8\",\n      loop: \"infinite\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        position: \"relative\",\n        top: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, \"  \", this.state.announcement, \"  \"))) : \"\", /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Sider, {\n      className: \"sidebarDiv\",\n      breakpoint: \"sm\",\n      collapsedWidth: \"35\",\n      collapsed: toggle,\n      onClick: this.sidebarFun,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(AppSidebar, Object.assign({}, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(Content, {\n      className: \"contentDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Suspense, {\n      fallback: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 27\n        }\n      }, \"Loading...\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SubRoute, Object.assign({}, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }))))));\n  }\n\n}\n\nexport default connect(_ref => {\n  let {\n    global,\n    loading\n  } = _ref;\n  return {\n    global,\n    loading\n  };\n})(BasicLayout);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/BasicLayout.js"],"names":["React","Component","Suspense","connect","SubRoute","AppSidebar","AppHeader","axios","Modal","Layout","Content","Sider","baseUrl","process","env","REACT_APP_ApiUrl","BasicLayout","state","collapsed","broke","mobileview","announcement","sidebarFun","props","dispatch","type","brokenFun","val","setState","global","toggleval","componentDidMount","user_role","localStorage","getItem","res","post","data","undefined","message","render","toggle","height","background","position","top","loading"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,KAAxB;AACA,OAAO,oBAAP;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,EAAgBC,MAAhB,QAA8B,MAA9B,C,CAGA;;AACA,MAAM;AAAGC,EAAAA,OAAH;AAAYC,EAAAA;AAAZ,IAAsBF,MAA5B,C,CAAoC;;AACpC,MAAMG,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA5B;;AACA,MAAMC,WAAN,SAA0Bf,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAEnCgB,KAFmC,GAE3B;AAAEC,MAAAA,SAAS,EAAE,KAAb;AAAoBC,MAAAA,KAAK,EAAC,KAA1B;AAAiCC,MAAAA,UAAU,EAAC,EAA5C;AAAgDC,MAAAA,YAAY,EAAE;AAA9D,KAF2B;;AAAA,SAGnCC,UAHmC,GAGxB,MAAK,KAAKL,KAAL,CAAWG,UAAX,GAAwB,KAAKG,KAAL,CAAWC,QAAX,CAAoB;AAACC,MAAAA,IAAI,EAAE;AAAP,KAApB,CAAxB,GAAuE,IAHpD;;AAAA,SAInCC,SAJmC,GAItBC,GAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AAACR,QAAAA,UAAU,EAACO;AAAZ,OAAd;;AACA,UAAGA,GAAH,EACC;AAAC,YAAG,CAAC,KAAKJ,KAAL,CAAWM,MAAX,CAAkBC,SAAtB,EACA,KAAKP,KAAL,CAAWC,QAAX,CAAoB;AAACC,UAAAA,IAAI,EAAE;AAAP,SAApB;AAA6C;;AAC/C,UAAG,CAACE,GAAJ,EACC;AAAC,YAAG,KAAKJ,KAAL,CAAWM,MAAX,CAAkBC,SAArB,EACA,KAAKP,KAAL,CAAWC,QAAX,CAAoB;AAACC,UAAAA,IAAI,EAAE;AAAP,SAApB;AAA6C;AAC/C,KAZkC;AAAA;;AAeZ,QAAjBM,iBAAiB,GAAG;AAEzB,QAAIC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAhB;;AACA,QAAGF,SAAS,KAAK,QAAjB,EAA2B;AAC1B,YAAMG,GAAG,GAAG,MAAM5B,KAAK,CAAC6B,IAAN,CAAY,GAAExB,OAAQ,8BAAtB,CAAlB;AACA,UAAIS,YAAY,GAAGc,GAAG,CAACE,IAAJ,CAAShB,YAA5B;;AACA,UAAGA,YAAY,IAAIiB,SAAhB,IAA6BjB,YAAY,IAAI,EAA7C,IAAmDA,YAAY,IAAI,IAAtE,EAA4E;AAC3E,aAAKO,QAAL,CAAc;AACbP,UAAAA,YAAY,EAAEc,GAAG,CAACE,IAAJ,CAAShB,YAAT,CAAsBkB;AADvB,SAAd;AAGA;AACD;AACD;;AAMDC,EAAAA,MAAM,GAAG;AACR,UAAM;AAACX,MAAAA;AAAD,QAAU,KAAKN,KAArB;AACA,UAAMkB,MAAM,GAAGZ,MAAM,CAACC,SAAtB;AACA,wBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,EAKG,KAAKb,KAAL,CAAWI,YAAX,gBACF;AAAK,MAAA,KAAK,EAAE;AAAEqB,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,UAAU,EAAE;AAA9B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAS,MAAA,KAAK,EAAE;AAAEA,QAAAA,UAAU,EAAE,WAAd;AAA2BD,QAAAA,MAAM,EAAE;AAAnC,OAAhB;AAA6D,MAAA,KAAK,EAAC,aAAnE;AAAiF,MAAA,QAAQ,EAAC,QAA1F;AAAmG,MAAA,SAAS,EAAC,MAA7G;AAAoH,MAAA,YAAY,EAAC,GAAjI;AAAqI,MAAA,IAAI,EAAC,UAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAM,MAAA,KAAK,EAAE;AAAEE,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,GAAG,EAAE;AAA7B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAuD,KAAK5B,KAAL,CAAWI,YAAlE,OADD,CADD,CADE,GAMA,EAXH,eAuBC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,YAAjB;AAA+B,MAAA,UAAU,EAAC,IAA1C;AAA+C,MAAA,cAAc,EAAC,IAA9D;AAAoE,MAAA,SAAS,EAAEoB,MAA/E;AAAuF,MAAA,OAAO,EAAE,KAAKnB,UAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,UAAD,oBAAgB,KAAKC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD,CADD,eAKC,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,QAAD;AAAU,MAAA,QAAQ,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,QAAD,oBAAc,KAAKA,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADA,CADD,CALD,CAvBD,CADD;AAwCG;;AA5E+B;;AA8EpC,eAAepB,OAAO,CAAC;AAAA,MAAC;AAAC0B,IAAAA,MAAD;AAASiB,IAAAA;AAAT,GAAD;AAAA,SAAwB;AAC9CjB,IAAAA,MAD8C;AACtCiB,IAAAA;AADsC,GAAxB;AAAA,CAAD,CAAP,CAEX9B,WAFW,CAAf","sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport { connect } from 'dva';\r\nimport './BasicLayout.less';\r\nimport SubRoute from '../../routes/SubRoute'\r\n\r\nimport AppSidebar from '../../components/Sidebar/AppSidebar'\r\nimport AppHeader from '../../components/AppHeader/AppHeader'\r\nimport axios from 'axios';\r\nimport {Modal,  Layout } from 'antd';\r\n\r\n\r\n// import './announcement.scss' \r\nconst {  Content, Sider } = Layout; //Footer,\r\nconst baseUrl = process.env.REACT_APP_ApiUrl;\r\nclass BasicLayout extends Component {\r\n\r\n\tstate = { collapsed: false, broke:false, mobileview:'', announcement: \"\"};\r\n\tsidebarFun=()=> this.state.mobileview ? this.props.dispatch({type: 'global/toggle'}) : null;\t\r\n\tbrokenFun = (val)=>{\r\n\t\tthis.setState({mobileview:val})\r\n\t\tif(val)\r\n\t\t\t{if(!this.props.global.toggleval) \r\n\t\t\t\tthis.props.dispatch({type: 'global/toggle'})}\r\n\t\tif(!val)\r\n\t\t\t{if(this.props.global.toggleval)\r\n\t\t\t\tthis.props.dispatch({type: 'global/toggle'})}\r\n\t}\r\n\r\n\t\r\n\tasync componentDidMount() {\r\n\r\n\t\tlet user_role = localStorage.getItem('role');\r\n\t\tif(user_role === \"SELLER\") {\r\n\t\t\tconst res = await axios.post(`${baseUrl}/get/announcement/for/seller`);\r\n\t\t\tlet announcement = res.data.announcement;\r\n\t\t\tif(announcement != undefined && announcement != \"\" && announcement != null) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tannouncement: res.data.announcement.message\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n\t\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\tconst {global} =this.props;\r\n\t\tconst toggle = global.toggleval;\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<header className=\"headerdiv\">\r\n\t\t\t\t\t<AppHeader/>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t{ this.state.announcement ? \r\n\t\t\t\t<div style={{ height: '50px', background: 'white', }}>\r\n\t\t\t\t\t<marquee style={{ background: \"lightblue\", height: '50px' }} class=\"ann-marquee\" behavior=\"scroll\" direction=\"left\" scrollamount=\"8\" loop=\"infinite\">\r\n\t\t\t\t\t\t<span style={{ position: \"relative\", top: \"15px\" }}>  {this.state.announcement}  </span>\r\n\t\t\t\t\t</marquee>\r\n\t\t\t\t</div>\r\n\t\t\t\t: \"\"}\r\n\t\t\t\t\r\n\t\t\t\t{/* { this.state.announcement ? \r\n                <div style={{ height: '50px', background: 'white' }}>\r\n                <section class=\"section_my\">\r\n                    <p class=\"marquee text-styling\" style={{ color: 'black' }}> {this.state.announcement}.</p>\r\n                </section>\r\n                </div>\r\n                : \"\"}  */}\r\n\r\n\t\t\t\t\r\n \r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Sider className=\"sidebarDiv\"  breakpoint=\"sm\" collapsedWidth=\"35\"  collapsed={toggle} onClick={this.sidebarFun}>\r\n\t\t\t\t\t\t<AppSidebar {...this.props} /> \r\n\t\t\t\t\t</Sider>\r\n\t\t\t\t\t{/* <Layout> */}\r\n\t\t\t\t\t<Content className=\"contentDiv\">\r\n\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} >\r\n\t\t\t\t\t\t<SubRoute {...this.props}/>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t</Content> \r\n\t\t\t\t</Layout>\r\n\r\n\r\n\t\t\t\r\n\t\t\t</Layout>\r\n\t\t);\r\n   \t}\r\n} \r\nexport default connect(({global, loading}) => ({\r\n\tglobal, loading\r\n}))(BasicLayout);"]},"metadata":{},"sourceType":"module"}