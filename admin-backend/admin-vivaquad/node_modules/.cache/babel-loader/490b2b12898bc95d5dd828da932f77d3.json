{"ast":null,"code":"import _objectWithoutProperties from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"component\"];import React,{useEffect,useState}from'react';import{Router,Route,Switch,Redirect}from'dva/router';import BasicLayout from'../pages/auth/BasicLayout';import AppLogin from'../pages/auth/login';import AppRegister from'../pages/auth/register';import AppVarify from'../pages/auth/varify';import AppReset from'../pages/auth/reset';function hasLogin(props){var token=localStorage.getItem('token');var user=localStorage.getItem('user');var objUser=JSON.parse(user);if(token&&objUser){return true;}else{return false;}}var PrivateRoute=function PrivateRoute(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(props){return hasLogin()?/*#__PURE__*/React.createElement(Component,props):/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/login\",state:{from:props.location}}});}}));};function RouterConfig(_ref2){var history=_ref2.history;return/*#__PURE__*/React.createElement(Router,{history:history,basename:process.env.PUBLIC_URL},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",component:AppLogin}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/verify\",component:AppVarify}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/register\",component:AppRegister}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/reset\",component:AppReset}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/\",component:BasicLayout})));}export default RouterConfig;","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/routes/router.js"],"names":["React","useEffect","useState","Router","Route","Switch","Redirect","BasicLayout","AppLogin","AppRegister","AppVarify","AppReset","hasLogin","props","token","localStorage","getItem","user","objUser","JSON","parse","PrivateRoute","Component","component","rest","pathname","state","from","location","RouterConfig","history","process","env","PUBLIC_URL"],"mappings":"oNACA,MAAOA,CAAAA,KAAP,EAAiBC,SAAjB,CAA8BC,QAA9B,KAA6C,OAA7C,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgCC,QAAhC,KAAgD,YAAhD,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,sBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CAIA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAwB,CACpB,GAAIC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CACA,GAAIC,CAAAA,IAAI,CAAGF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CACA,GAAME,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAhB,CAEF,GAAGH,KAAK,EAAII,OAAZ,CAAoB,CACnB,MAAO,KAAP,CACA,CAFD,IAGI,CAAE,MAAO,MAAP,CAAc,CACpB,CAEF,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,UAAcC,CAAAA,SAAd,MAAGC,SAAH,CAA4BC,IAA5B,6DACnB,oBAAC,KAAD,kBACMA,IADN,EAEE,MAAM,CAAE,gBAAAX,KAAK,QACXD,CAAAA,QAAQ,gBAAM,oBAAC,SAAD,CAAeC,KAAf,CAAN,cAAmC,oBAAC,QAAD,EAAU,EAAE,CAAE,CAAEY,QAAQ,CAAE,QAAZ,CAAsBC,KAAK,CAAE,CAAEC,IAAI,CAAEd,KAAK,CAACe,QAAd,CAA7B,CAAd,EADhC,EAFf,GADmB,EAArB,CAUA,QAASC,CAAAA,YAAT,OAAmC,IAAXC,CAAAA,OAAW,OAAXA,OAAW,CACjC,mBACE,oBAAC,MAAD,EAAQ,OAAO,CAAEA,OAAjB,CAA0B,QAAQ,CAAEC,OAAO,CAACC,GAAR,CAAYC,UAAhD,eACE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEzB,QAAtC,EADF,cAEE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,SAAS,CAAEE,SAAvC,EAFF,cAGE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAED,WAAzC,EAHF,cAIE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEE,QAAtC,EAJF,cAME,oBAAC,YAAD,EAAc,IAAI,CAAC,GAAnB,CAAuB,SAAS,CAAEJ,WAAlC,EANF,CADF,CADF,CAYD,CAKD,cAAesB,CAAAA,YAAf","sourcesContent":["\r\nimport React , { useEffect ,  useState} from 'react';\r\nimport { Router, Route, Switch, Redirect } from 'dva/router';\r\nimport BasicLayout from '../pages/auth/BasicLayout';\r\nimport AppLogin from '../pages/auth/login'; \r\nimport AppRegister from '../pages/auth/register';\r\nimport AppVarify from '../pages/auth/varify';\r\nimport AppReset from '../pages/auth/reset';\r\n\r\n\r\n\r\nfunction hasLogin(props){\r\n    let token = localStorage.getItem('token');\r\n    let user = localStorage.getItem('user');\r\n    const objUser = JSON.parse(user);\r\n\r\n\t\tif(token && objUser){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse{ return false }\r\n\t}\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      hasLogin() ? (<Component {...props} />) : (<Redirect to={{ pathname: \"/login\", state: { from: props.location } }} />)\r\n    }\r\n  />\r\n);\r\n\r\n\r\nfunction RouterConfig({ history }) {\r\n  return (\r\n    <Router history={history} basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route exact path='/login' component={AppLogin} />\r\n        <Route exact path='/verify' component={AppVarify} />\t\t\r\n        <Route exact path='/register' component={AppRegister} />\r\n        <Route exact path='/reset' component={AppReset} />\r\n\r\n        <PrivateRoute path='/' component={BasicLayout} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default RouterConfig;\r\n\r\n"]},"metadata":{},"sourceType":"module"}