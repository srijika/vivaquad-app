{"ast":null,"code":"import _slicedToArray from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Redirect}from'react-router';import{Link}from'react-router-dom';import Apploader from'./../../components/loader/loader';import{connect}from'dva';import{Row,Col,Form,Input,Button,Divider,Checkbox,message,Modal}from'antd';import{UserOutlined,LockOutlined,EyeInvisibleOutlined,EyeTwoTone}from'@ant-design/icons';var AppReset=function AppReset(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var handelPassword=function handelPassword(){setShowPassword(!showPassword);};var onFinish=function onFinish(values){var email=localStorage.getItem('user_email');var val={};if(validateEmail(email)){val={username:email,password:values.password,otpchk:values.otp};props.dispatch({type:'auth/resetPassword',payload:val});}};var validateEmail=function validateEmail(email){var re=/\\S+@\\S+\\.\\S+/;return re.test(email);};useEffect(function(){var unmounted=false;var resetPassword=props.auth.resetPassword;if(!unmounted&&resetPassword&&resetPassword.status){props.dispatch({type:'auth/resetPasswordSuccessDone'});props.history.push('/login');}return function(){unmounted=true;};},[props]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Apploader,{show:props.loading.global}),/*#__PURE__*/React.createElement(Row,{type:\"flex\",className:\"basicpage\",justify:\"space-around\",align:\"middle\",style:{minHeight:'100vh'}},/*#__PURE__*/React.createElement(Col,{className:\"basicbox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mainimg\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mainform\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',fontSize:'18px',fontWeight:'600'}},\"Reset Password\"),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Form,{name:\"otp\",className:\"login-form\",initialValues:{remember:true},onFinish:onFinish},/*#__PURE__*/React.createElement(Form.Item,{name:\"password\",rules:[{required:true,message:'Please input your Password!'},{pattern:/^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,message:'Minimum eight characters, at least one letter, one number and one special character:'}]},/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(LockOutlined,{className:\"site-form-item-icon\"}),type:showPassword?'text':'password',placeholder:\"New Password\",suffix:showPassword?/*#__PURE__*/React.createElement(EyeTwoTone,{onClick:handelPassword}):/*#__PURE__*/React.createElement(EyeInvisibleOutlined,{onClick:handelPassword})})),/*#__PURE__*/React.createElement(Form.Item,{name:\"otp\",rules:[{required:true,message:'Please input your Otp!'}]},/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(UserOutlined,{className:\"site-form-item-icon\"}),placeholder:\"OTP Enter Here!\"})),/*#__PURE__*/React.createElement(Form.Item,{style:{textAlign:'center'}},/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form-button\"},\" Save \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Link,{style:{color:\"#3e1c08\"},to:\"/login\"},\"Back\"))))));};export default connect(function(_ref){var auth=_ref.auth,loading=_ref.loading;return{auth:auth,loading:loading};})(AppReset);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/reset.js"],"names":["React","useState","useEffect","Redirect","Link","Apploader","connect","Row","Col","Form","Input","Button","Divider","Checkbox","message","Modal","UserOutlined","LockOutlined","EyeInvisibleOutlined","EyeTwoTone","AppReset","props","showPassword","setShowPassword","handelPassword","onFinish","values","email","localStorage","getItem","val","validateEmail","username","password","otpchk","otp","dispatch","type","payload","re","test","unmounted","resetPassword","auth","status","history","push","loading","global","minHeight","textAlign","fontSize","fontWeight","remember","required","pattern","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport Apploader from './../../components/loader/loader'\r\nimport { connect } from 'dva';\r\nimport { Row, Col, Form, Input, Button, Divider, Checkbox, message, Modal } from 'antd';\r\nimport { UserOutlined, LockOutlined, EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\n\r\n\r\nconst AppReset = (props) => {\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\tconst  handelPassword = () => {\r\n\t\tsetShowPassword(!showPassword);\r\n\t\t\r\n\t}\r\n    const onFinish = values => {\t\t\r\n        const email = localStorage.getItem('user_email');\r\n        let val = {};\r\n        if(validateEmail(email)){ \r\n            val = { username: email, password: values.password, otpchk: values.otp };\r\n\t\t\tprops.dispatch({ type: 'auth/resetPassword', payload: val });\r\n        }\r\n\t  };\r\n\r\n    const validateEmail = (email) =>{\r\n      var re = /\\S+@\\S+\\.\\S+/;\r\n      return re.test(email);\r\n  }\r\n\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\tlet resetPassword = props.auth.resetPassword;\r\n\t\tif(!unmounted && resetPassword && resetPassword.status){\r\n\t\t\t\r\n\t\t\tprops.dispatch({ type: 'auth/resetPasswordSuccessDone' });\r\n\t\t\tprops.history.push('/login');\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tunmounted = true;\r\n\t\t}\r\n\t},[props])\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Apploader show={props.loading.global} />\r\n\t\t\t\t<Row type=\"flex\" className={\"basicpage\"} justify=\"space-around\" align=\"middle\" style={{ minHeight: '100vh' }}>\r\n\t\t\t\t\t<Col className=\"basicbox\">\r\n\t\t\t\t\t\t<div className=\"mainimg\"></div>\r\n\t\t\t\t\t\t<div className=\"mainform\">\r\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', fontSize: '18px', fontWeight: '600' }}>\r\n\t\t\t\t\t\t\t\tReset Password\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Divider />\r\n\r\n\r\n\t\t\t\t\t\t\t<Form name=\"otp\" className=\"login-form\" initialValues={{ remember: true, }} onFinish={onFinish} >\r\n\t\t\t\t\t\t\t<Form.Item name=\"password\" rules={[ \r\n\t\t\t\t\t\t\t\t\t{ \t\r\n\t\t\t\t\t\t\t\t\t\trequired: true, \r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Please input your Password!', \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpattern: /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Minimum eight characters, at least one letter, one number and one special character:'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t\t\t<Input prefix={<LockOutlined className=\"site-form-item-icon\" />} \r\n\t\t\t\t\t\t\t\ttype={showPassword ? 'text': 'password'}\r\n\t\t\t\t\t\t\t\tplaceholder=\"New Password\" \r\n\t\t\t\t\t\t\t\tsuffix = {showPassword ? <EyeTwoTone onClick={ handelPassword } /> : <EyeInvisibleOutlined onClick={ handelPassword } /> }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"otp\" rules={[{ required: true, message: 'Please input your Otp!', },]} >\r\n\t\t\t\t\t\t\t\t\t<Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"OTP Enter Here!\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\"  htmlType=\"submit\" className=\"login-form-button\"> Save </Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t <Link   style={{ color: \"#3e1c08\"  }} to={\"/login\"}>Back</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t\r\n}\r\n\r\nexport default connect(({ auth, loading }) => ({\r\n\tauth, loading\r\n}))(AppReset);"]},"metadata":{},"sourceType":"module"}