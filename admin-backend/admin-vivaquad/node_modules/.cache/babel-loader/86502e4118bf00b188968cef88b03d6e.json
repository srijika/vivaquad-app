{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prefixNamespace;\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime/core-js/object/keys\"));\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _utils = require(\"./utils\");\n\nvar _constants = require(\"./constants\");\n\nfunction prefix(obj, namespace, type) {\n  return (0, _keys.default)(obj).reduce(function (memo, key) {\n    (0, _warning.default)(key.indexOf(\"\".concat(namespace).concat(_constants.NAMESPACE_SEP)) !== 0, \"[prefixNamespace]: \".concat(type, \" \").concat(key, \" should not be prefixed with namespace \").concat(namespace));\n    var newKey = \"\".concat(namespace).concat(_constants.NAMESPACE_SEP).concat(key);\n    memo[newKey] = obj[key];\n    return memo;\n  }, {});\n}\n\nfunction prefixNamespace(model) {\n  var namespace = model.namespace,\n      reducers = model.reducers,\n      effects = model.effects;\n\n  if (reducers) {\n    if ((0, _utils.isArray)(reducers)) {\n      model.reducers[0] = prefix(reducers[0], namespace, 'reducer');\n    } else {\n      model.reducers = prefix(reducers, namespace, 'reducer');\n    }\n  }\n\n  if (effects) {\n    model.effects = prefix(effects, namespace, 'effect');\n  }\n\n  return model;\n}","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/node_modules/dva-core/lib/prefixNamespace.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","prefixNamespace","_keys","_warning","_utils","_constants","prefix","obj","namespace","type","reduce","memo","key","indexOf","concat","NAMESPACE_SEP","newKey","model","reducers","effects","isArray"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,eAAlB;;AAEA,IAAIC,KAAK,GAAGR,sBAAsB,CAACC,OAAO,CAAC,oCAAD,CAAR,CAAlC;;AAEA,IAAIQ,QAAQ,GAAGT,sBAAsB,CAACC,OAAO,CAAC,SAAD,CAAR,CAArC;;AAEA,IAAIS,MAAM,GAAGT,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAIU,UAAU,GAAGV,OAAO,CAAC,aAAD,CAAxB;;AAEA,SAASW,MAAT,CAAgBC,GAAhB,EAAqBC,SAArB,EAAgCC,IAAhC,EAAsC;AACpC,SAAO,CAAC,GAAGP,KAAK,CAACF,OAAV,EAAmBO,GAAnB,EAAwBG,MAAxB,CAA+B,UAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AACzD,KAAC,GAAGT,QAAQ,CAACH,OAAb,EAAsBY,GAAG,CAACC,OAAJ,CAAY,GAAGC,MAAH,CAAUN,SAAV,EAAqBM,MAArB,CAA4BT,UAAU,CAACU,aAAvC,CAAZ,MAAuE,CAA7F,EAAgG,sBAAsBD,MAAtB,CAA6BL,IAA7B,EAAmC,GAAnC,EAAwCK,MAAxC,CAA+CF,GAA/C,EAAoD,yCAApD,EAA+FE,MAA/F,CAAsGN,SAAtG,CAAhG;AACA,QAAIQ,MAAM,GAAG,GAAGF,MAAH,CAAUN,SAAV,EAAqBM,MAArB,CAA4BT,UAAU,CAACU,aAAvC,EAAsDD,MAAtD,CAA6DF,GAA7D,CAAb;AACAD,IAAAA,IAAI,CAACK,MAAD,CAAJ,GAAeT,GAAG,CAACK,GAAD,CAAlB;AACA,WAAOD,IAAP;AACD,GALM,EAKJ,EALI,CAAP;AAMD;;AAED,SAASV,eAAT,CAAyBgB,KAAzB,EAAgC;AAC9B,MAAIT,SAAS,GAAGS,KAAK,CAACT,SAAtB;AAAA,MACIU,QAAQ,GAAGD,KAAK,CAACC,QADrB;AAAA,MAEIC,OAAO,GAAGF,KAAK,CAACE,OAFpB;;AAIA,MAAID,QAAJ,EAAc;AACZ,QAAI,CAAC,GAAGd,MAAM,CAACgB,OAAX,EAAoBF,QAApB,CAAJ,EAAmC;AACjCD,MAAAA,KAAK,CAACC,QAAN,CAAe,CAAf,IAAoBZ,MAAM,CAACY,QAAQ,CAAC,CAAD,CAAT,EAAcV,SAAd,EAAyB,SAAzB,CAA1B;AACD,KAFD,MAEO;AACLS,MAAAA,KAAK,CAACC,QAAN,GAAiBZ,MAAM,CAACY,QAAD,EAAWV,SAAX,EAAsB,SAAtB,CAAvB;AACD;AACF;;AAED,MAAIW,OAAJ,EAAa;AACXF,IAAAA,KAAK,CAACE,OAAN,GAAgBb,MAAM,CAACa,OAAD,EAAUX,SAAV,EAAqB,QAArB,CAAtB;AACD;;AAED,SAAOS,KAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prefixNamespace;\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime/core-js/object/keys\"));\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _utils = require(\"./utils\");\n\nvar _constants = require(\"./constants\");\n\nfunction prefix(obj, namespace, type) {\n  return (0, _keys.default)(obj).reduce(function (memo, key) {\n    (0, _warning.default)(key.indexOf(\"\".concat(namespace).concat(_constants.NAMESPACE_SEP)) !== 0, \"[prefixNamespace]: \".concat(type, \" \").concat(key, \" should not be prefixed with namespace \").concat(namespace));\n    var newKey = \"\".concat(namespace).concat(_constants.NAMESPACE_SEP).concat(key);\n    memo[newKey] = obj[key];\n    return memo;\n  }, {});\n}\n\nfunction prefixNamespace(model) {\n  var namespace = model.namespace,\n      reducers = model.reducers,\n      effects = model.effects;\n\n  if (reducers) {\n    if ((0, _utils.isArray)(reducers)) {\n      model.reducers[0] = prefix(reducers[0], namespace, 'reducer');\n    } else {\n      model.reducers = prefix(reducers, namespace, 'reducer');\n    }\n  }\n\n  if (effects) {\n    model.effects = prefix(effects, namespace, 'effect');\n  }\n\n  return model;\n}"]},"metadata":{},"sourceType":"script"}