{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getUserList,getUserDetail,editUsers,deleteUser}from'../services/api';import{message}from'antd';export default{namespace:'users',state:{del:{count:0},add:{count:0},edit:{count:0}},subscriptions:{setup:function setup(_ref){var dispatch=_ref.dispatch,history=_ref.history;}},effects:{getList:/*#__PURE__*/_regeneratorRuntime.mark(function getList(_ref2,_ref3){var payload,call,put,response;return _regeneratorRuntime.wrap(function getList$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref2.payload;call=_ref3.call,put=_ref3.put;_context.next=4;return call(getUserList,payload);case 4:response=_context.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}_context.next=8;return put(_objectSpread({type:'list'},response));case 8:case\"end\":return _context.stop();}}},getList);}),getDetail:/*#__PURE__*/_regeneratorRuntime.mark(function getDetail(_ref4,_ref5){var payload,call,put,response;return _regeneratorRuntime.wrap(function getDetail$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref4.payload;call=_ref5.call,put=_ref5.put;_context2.next=4;return call(getUserDetail,payload);case 4:response=_context2.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}_context2.next=8;return put(_objectSpread({type:'detail'},response));case 8:case\"end\":return _context2.stop();}}},getDetail);}),editItem:/*#__PURE__*/_regeneratorRuntime.mark(function editItem(_ref6,_ref7){var payload,call,put,response;return _regeneratorRuntime.wrap(function editItem$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref6.payload;call=_ref7.call,put=_ref7.put;_context3.next=4;return call(editUsers,payload);case 4:response=_context3.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}if(response.status){message.success(response.msg||response.message||response.err,5);}_context3.next=9;return put(_objectSpread({type:'edit'},response));case 9:case\"end\":return _context3.stop();}}},editItem);}),deleteItem:/*#__PURE__*/_regeneratorRuntime.mark(function deleteItem(_ref8,_ref9){var payload,call,put,response;return _regeneratorRuntime.wrap(function deleteItem$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref8.payload;call=_ref9.call,put=_ref9.put;_context4.next=4;return call(deleteUser,payload);case 4:response=_context4.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}if(response.status){message.success(\"User Deleted Successfully!\",5);}_context4.next=9;return put(_objectSpread({type:'del'},response));case 9:case\"end\":return _context4.stop();}}},deleteItem);}),clearAction:/*#__PURE__*/_regeneratorRuntime.mark(function clearAction(_ref10,_ref11){var payload,call,put;return _regeneratorRuntime.wrap(function clearAction$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref10.payload;call=_ref11.call,put=_ref11.put;_context5.next=4;return put({type:'clear'});case 4:case\"end\":return _context5.stop();}}},clearAction);})},reducers:{list:function list(state,action){return _objectSpread(_objectSpread({},state),{},{list:action});},detail:function detail(state,action){return _objectSpread(_objectSpread({},state),{},{detail:action});},edit:function edit(state,action){action.count=state.edit.count+1;return _objectSpread(_objectSpread({},state),{},{edit:action});},del:function del(state,action){action.count=state.del.count+1;return _objectSpread(_objectSpread({},state),{},{del:action});},clear:function clear(state,action){return _objectSpread(_objectSpread({},state),{},{edit:{count:0},del:{count:0}});}}};","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/models/users.js"],"names":["getUserList","getUserDetail","editUsers","deleteUser","message","namespace","state","del","count","add","edit","subscriptions","setup","dispatch","history","effects","getList","payload","call","put","response","status","error","msg","err","type","getDetail","editItem","success","deleteItem","clearAction","reducers","list","action","detail","clear"],"mappings":"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","sourcesContent":[" import {getUserList, getUserDetail, editUsers, deleteUser} from '../services/api'\r\nimport {message} from 'antd'; \r\nexport default {\r\n  namespace: 'users',\r\n\r\n  state: {\r\n\tdel:{count:0},\r\n\tadd:{count:0},\r\n\tedit:{count:0}\r\n\t}, \r\n\r\n  subscriptions: {\r\n    setup({ dispatch, history }) { \r\n    },\r\n  },\r\n\r\n  effects: { \r\n    *getList({ payload }, { call, put }) {\r\n      const response = yield call(getUserList, payload);\r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n\t  yield put({ type: 'list', ...response});\r\n    },\r\n    *getDetail({ payload }, { call, put }) {\r\n      const response = yield call(getUserDetail, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      yield put({ type: 'detail', ...response});\r\n    },\r\n    *editItem({ payload }, { call, put }) {\r\n      const response = yield call(editUsers, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      if(response.status) {message.success(response.msg || response.message || response.err, 5);} \r\n      yield put({ type: 'edit', ...response});\r\n    },\r\n    *deleteItem({ payload }, { call, put }) {\r\n      const response = yield call(deleteUser, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      if(response.status) {message.success(\"User Deleted Successfully!\", 5);} \r\n      yield put({ type: 'del', ...response});\r\n    },\r\n\t*clearAction({ payload }, { call, put }) {\r\n      yield put({ type: 'clear'});\r\n    },\r\n  },\r\n\r\n  reducers: {\r\n    list(state, action) {\r\n      return { ...state, list:action };\r\n    },\r\n    detail(state, action) {\r\n      return { ...state, detail:action };\r\n    },\r\n    edit(state, action) {\r\n\t\taction.count = state.edit.count+1;\r\n\t\treturn { ...state, edit:action };\r\n    },\r\n    del(state, action) {\r\n\t\taction.count = state.del.count+1;\r\n\t\treturn { ...state, del:action };\r\n    },\r\n\tclear(state, action) {\r\n\t\treturn { ...state, edit:{count:0}, del:{count:0}};\r\n    },\r\n  },\r\n};"]},"metadata":{},"sourceType":"module"}