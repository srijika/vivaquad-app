{"ast":null,"code":"var _jsxFileName = \"/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/register.js\";\nimport React, { useState, Component, useEffect } from 'react';\nimport Apploader from './../../components/loader/loader';\nimport { Redirect, Route } from 'react-router';\nimport { UserOutlined, LockOutlined, MailOutlined, MobileOutlined, EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\nimport { connect } from 'dva';\nimport { Link } from 'react-router-dom';\nimport Logo from '../../assets/img/logo.png';\nimport UploadImages from './../../components/upload-images/index'; //import styles from './login.less';\n\nimport { Modal, Row, Col, Form, Input, Button, Avatar, message, Select, Checkbox, Radio } from 'antd';\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nconst formRef = React.createRef();\n\nconst AppRegister = props => {\n  const [count, setCount] = useState(0);\n  const [visible, setVisible] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [imagesList, setImagesList] = useState([]);\n\n  const handelPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const updateImageData = val => {\n    setImagesList(val);\n  };\n\n  const onFinish = values => {\n    values.roleType = \"ADMIN\";\n    localStorage.setItem(\"flow\", 'reg');\n    localStorage.setItem(\"user_email\", values.email);\n    props.dispatch({\n      type: 'auth/register',\n      payload: { ...values\n      }\n    });\n  };\n\n  useEffect(() => {\n    let unmounted = false;\n    setTimeout(() => document.title = 'register', 100);\n    let register = props.auth.reg;\n\n    if (!unmounted && register.action && register.action.status === true && register.action.count > count) {\n      setCount(register.action.count);\n      props.dispatch({\n        type: 'auth/registerSuccess'\n      });\n      formRef.current.setFieldsValue({\n        ['name']: '',\n        ['email']: '',\n        ['mobile_number']: '',\n        ['username']: '',\n        ['password']: '',\n        ['gstin']: '',\n        ['fssai']: ''\n      });\n      setTimeout(() => {\n        Modal.success({\n          content: 'Sign Up Successfully',\n\n          onOk() {\n            props.history.push('/verify');\n          }\n\n        });\n      }, 300);\n    }\n\n    return () => {\n      unmounted = true;\n    };\n  }, [props.auth.reg]);\n  useEffect(() => {\n    let unmounted = false;\n    let response = [];\n    let alrdreg = props.auth.alrdreg;\n\n    if (alrdreg.action && alrdreg.action.status === false) {\n      props.dispatch({\n        type: 'auth/alrdregisterSuccess'\n      });\n      props.dispatch({\n        type: 'auth/alrdreg',\n        ...response\n      });\n      props.history.push('/login');\n    }\n\n    return () => {\n      unmounted = true;\n    };\n  }, [props.auth.alrdreg]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(Apploader, {\n    show: props.loading.global,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    type: \"flex\",\n    className: \"basicpage\",\n    justify: \"space-around\",\n    align: \"middle\",\n    style: {\n      minHeight: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"basicbox \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainimg registerimg basicbox_height\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainform mobile_mainform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    ref: formRef,\n    layout: 'vertical',\n    name: \"normal_login\",\n    className: \"login-form\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"owner_name\",\n    rules: [{\n      required: true,\n      message: 'Please input owner name!'\n    }, {\n      pattern: /^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/,\n      message: 'letters and digits, with hyphens, underscores and spaces as internal separator'\n    }, {\n      max: 25,\n      message: 'owner name must not be greater than 25 characters.'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 22\n      }\n    }),\n    placeholder: \"Enter owner name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"school_name\",\n    rules: [{\n      required: true,\n      message: 'Please input school name!'\n    }, {\n      max: 50,\n      message: 'school name must not be greater than 50 characters.'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 22\n      }\n    }),\n    placeholder: \"Enter school name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"email\",\n    rules: [{\n      required: true,\n      message: 'Please input your Email!'\n    }, {\n      type: 'email',\n      message: 'The input is not valid E-mail!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(MailOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 22\n      }\n    }),\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"mobile_number\",\n    rules: [{\n      required: true,\n      message: 'Please input your Phone Number!'\n    }, {\n      pattern: /^[0-9]+$/,\n      message: 'Need to enter number'\n    }, {\n      len: 10,\n      message: 'Phone number should be 10 digits long.'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"tel\",\n    prefix: /*#__PURE__*/React.createElement(MobileOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }\n    }),\n    placeholder: \"Phone Number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"address\",\n    rules: [{\n      required: true,\n      message: 'Please input address!'\n    }, {\n      max: 100,\n      message: 'address must not be greater than 100 characters.'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 22\n      }\n    }),\n    placeholder: \"Enter school address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: 'Please input your Password!'\n    }, {\n      pattern: /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n      message: 'Minimum eight characters, at least one letter, one number and one special character:'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 22\n      }\n    }),\n    type: showPassword ? 'text' : 'password',\n    placeholder: \"Password\",\n    suffix: showPassword ? /*#__PURE__*/React.createElement(EyeTwoTone, {\n      onClick: handelPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 32\n      }\n    }) : /*#__PURE__*/React.createElement(EyeInvisibleOutlined, {\n      onClick: handelPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 76\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"images\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: '#ff4d4f'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 46\n      }\n    }, \"* \"), \"Upload Logo\"),\n    rules: [{\n      required: false,\n      message: 'Field required!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 8\n    }\n  }, imagesList.map((item, index) => /*#__PURE__*/React.createElement(Avatar, {\n    key: index,\n    shape: \"square\",\n    size: 150,\n    src: item.view || item,\n    style: {\n      margin: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 35\n    }\n  })), imagesList.length > 0 ? /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }) : '', /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setVisible(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 4\n    }\n  }, \" Upload Images \")), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button mobile-register-form-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, \" Sign Up \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 125\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 131\n    }\n  }), \"Or \", /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => props.history.push('/'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"mobile-register-already\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 56\n    }\n  }, \"Already have a account!\")))), /*#__PURE__*/React.createElement(UploadImages, {\n    visible: visible,\n    closeFun: () => setVisible(false),\n    returnImg: val => updateImageData(val),\n    resetVal: imagesList,\n    aspect: 9 / 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 6\n    }\n  })))));\n};\n\nexport default connect(_ref => {\n  let {\n    auth,\n    loading\n  } = _ref;\n  return {\n    auth,\n    loading\n  };\n})(AppRegister);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/register.js"],"names":["React","useState","Component","useEffect","Apploader","Redirect","Route","UserOutlined","LockOutlined","MailOutlined","MobileOutlined","EyeInvisibleOutlined","EyeTwoTone","connect","Link","Logo","UploadImages","Modal","Row","Col","Form","Input","Button","Avatar","message","Select","Checkbox","Radio","FormItem","Item","Option","formRef","createRef","AppRegister","props","count","setCount","visible","setVisible","showPassword","setShowPassword","imagesList","setImagesList","handelPassword","updateImageData","val","onFinish","values","roleType","localStorage","setItem","email","dispatch","type","payload","unmounted","setTimeout","document","title","register","auth","reg","action","status","current","setFieldsValue","success","content","onOk","history","push","response","alrdreg","loading","global","minHeight","remember","required","pattern","max","len","color","map","item","index","view","margin","length"],"mappings":"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","sourcesContent":["import React, {useState, Component, useEffect } from 'react';\r\nimport Apploader from './../../components/loader/loader'\r\nimport {Redirect, Route} from 'react-router';\r\nimport { UserOutlined, LockOutlined , MailOutlined, MobileOutlined, EyeInvisibleOutlined, EyeTwoTone} from '@ant-design/icons';\r\nimport { connect } from 'dva';\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from '../../assets/img/logo.png';\r\nimport UploadImages from './../../components/upload-images/index'\r\n\r\n\r\n//import styles from './login.less';\r\n\r\nimport { Modal,  Row,Col, Form, Input, Button, Avatar,message, Select, Checkbox, Radio } from 'antd';\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nconst formRef = React.createRef();\r\n\r\n\r\nconst AppRegister = (props) => {\r\n\tconst [count, setCount] = useState(0);\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\tconst [imagesList, setImagesList] = useState([]);\r\n\r\n\t\r\nconst  handelPassword = () => {\r\n\tsetShowPassword(!showPassword);\r\n\t\r\n}\r\n\r\nconst updateImageData= val=>{\r\n\tsetImagesList(val); \r\n}\r\n\tconst onFinish = values => {\r\n\t\tvalues.roleType = \"ADMIN\";\r\n\t\tlocalStorage.setItem(\"flow\", 'reg');\r\n\t\tlocalStorage.setItem(\"user_email\", values.email);\r\n\t\tprops.dispatch({ type: 'auth/register', payload: { ...values, }, });\r\n\r\n\t};\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\tsetTimeout(()=>document.title = 'register', 100);\r\n\t\tlet register = props.auth.reg;\r\n\t\tif(!unmounted && register.action && register.action.status === true && register.action.count > count){\r\n\t\t\tsetCount(register.action.count)\r\n\t\t\tprops.dispatch({ type: 'auth/registerSuccess' });\r\n\t\t\tformRef.current.setFieldsValue({['name']: '', ['email']: '', ['mobile_number']: '', ['username']: '', ['password']: '', ['gstin']: '', ['fssai']: ''});\r\n\t\t\tsetTimeout(() =>  {\r\n\t\t\t\tModal.success({\r\n\t\t\t\t\tcontent:( 'Sign Up Successfully'),\r\n\t\t\t\t\t  onOk() { \r\n\t\t\t\t\t\t\tprops.history.push('/verify')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  });\r\n\t\t\t}, 300)\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tunmounted = true;\r\n\t\t}\r\n    },[props.auth.reg])\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\tlet response = [];\r\n\t\tlet alrdreg = props.auth.alrdreg;\r\n\t\tif(alrdreg.action && alrdreg.action.status === false){\r\n\t\t\tprops.dispatch({ type: 'auth/alrdregisterSuccess' });\r\n\t\t\tprops.dispatch({ type: 'auth/alrdreg', ...response });\r\n\t\t\tprops.history.push('/login');\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tunmounted = true;\r\n\t\t}\r\n\t},[props.auth.alrdreg])\r\n\r\n\r\n  return (\r\n\t<div>\r\n\t\t<Apploader show={props.loading.global}/>\r\n\t\t<Row type=\"flex\" className={\"basicpage\"} justify=\"space-around\" align=\"middle\" style={{minHeight:'100vh'}}>\r\n\t\t\t<Col  className=\"basicbox \">\r\n\t\t\t\t<div className=\"mainimg registerimg basicbox_height\"></div>\r\n\t\t\t\t<div className=\"mainform mobile_mainform\">\r\n\t\t\r\n\t\t\t\t\t<Form ref={formRef} layout={'vertical'} name=\"normal_login\" className=\"login-form\" initialValues={{ remember: true, }} onFinish={onFinish} >\r\n\t\t\t\t\t<Form.Item name=\"owner_name\" rules={[ \r\n\t\t\t\t\t\t \t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input owner name!'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpattern: /^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/,\r\n\t\t\t\t\t\t\t\tmessage: 'letters and digits, with hyphens, underscores and spaces as internal separator'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{ max: 25, message: 'owner name must not be greater than 25 characters.' },\r\n\r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t<Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Enter owner name\" />\r\n\t\t\t\t\t  </Form.Item>\t\r\n\t\t\t\t\t  <Form.Item name=\"school_name\" rules={[ \r\n\t\t\t\t\t\t \t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input school name!'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{ max: 50, message: 'school name must not be greater than 50 characters.' },\r\n\r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t<Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Enter school name\" />\r\n\t\t\t\t\t  </Form.Item>\t\t  \r\n\t\t\t\t\t  <Form.Item name=\"email\" rules={[\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\trequired: true, \r\n\t\t\t\t\t\t\t\tmessage: 'Please input your Email!'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\tmessage: 'The input is not valid E-mail!',\r\n\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t<Input prefix={<MailOutlined className=\"site-form-item-icon\" />} placeholder=\"Email\" />\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t  <Form.Item name=\"mobile_number\" rules={[ \r\n\t\t\t\t\t\t \t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input your Phone Number!', \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpattern: /^[0-9]+$/,\r\n\t\t\t\t\t\t\t\tmessage: 'Need to enter number'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tlen: 10, \r\n\t\t\t\t\t\t\t\tmessage: 'Phone number should be 10 digits long.' \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t<Input type=\"tel\" prefix={<MobileOutlined className=\"site-form-item-icon\" />} placeholder=\"Phone Number\" />\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t  <Form.Item name=\"address\" rules={[ \r\n\t\t\t\t\t\t \t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input address!'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{ max: 100, message: 'address must not be greater than 100 characters.' },\r\n\r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t<Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Enter school address\" />\r\n\t\t\t\t\t  </Form.Item>\t\r\n\r\n\t\t\t\t\t  <Form.Item name=\"password\" rules={[ \r\n\t\t\t\t\t\t\t{ \t\r\n\t\t\t\t\t\t\t\trequired: true, \r\n\t\t\t\t\t\t\t\tmessage: 'Please input your Password!', \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpattern: /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\r\n\t\t\t\t\t\t\t\tmessage: 'Minimum eight characters, at least one letter, one number and one special character:'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t<Input prefix={<LockOutlined className=\"site-form-item-icon\" />} \r\n\t\t\t\t\t\ttype={showPassword ? 'text': 'password'}\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tsuffix = {showPassword ? <EyeTwoTone onClick={ handelPassword } /> : <EyeInvisibleOutlined onClick={ handelPassword } /> }\r\n\r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t \r\n\t\t\t\t\t  <Form.Item name=\"images\" label={<span><span style={{color:'#ff4d4f'}}>* </span>Upload Logo</span>} rules={[{ required: false, message: 'Field required!', }, ]}  >\r\n\t\t\t{imagesList.map((item,index)=> <Avatar key={index} shape=\"square\" size={150} src={item.view || item} style={{margin:5}} />)}\r\n\t\t\t{imagesList.length>0?<br/>:''}\r\n\t\t\t<Button onClick={()=>setVisible(true)}> Upload Images </Button>\r\n\t\t</Form.Item>\t\t\r\n\t\t\t\t\t  <Form.Item>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button mobile-register-form-button\"> Sign Up </Button> <br /><br />\r\n\t\t\t\t\t\tOr <span onClick={() => props.history.push('/')}><a href=\"#\" className=\"mobile-register-already\">Already have a account!</a></span>\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t<UploadImages visible={visible} closeFun={()=>setVisible(false)} returnImg={val=> updateImageData(val)} resetVal={imagesList} aspect={9/12}/>\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t</Row> \r\n\t</div>\r\n  );\r\n};\r\n\r\nexport default connect(({ auth, loading }) => ({\r\n  auth, loading\r\n}))(AppRegister);\r\n"]},"metadata":{},"sourceType":"module"}