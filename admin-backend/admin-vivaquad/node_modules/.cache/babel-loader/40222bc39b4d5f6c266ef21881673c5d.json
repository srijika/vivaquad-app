{"ast":null,"code":"var _jsxFileName = \"/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/varify.js\";\nimport React, { useState, useEffect } from 'react';\nimport Apploader from './../../components/loader/loader';\nimport { connect } from 'dva';\nimport { Row, Col, Form, Input, Button, Divider, Checkbox, message, Modal, notification } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nconst FormItem = Form.Item;\n\nconst AppVarify = props => {\n  const regEmail = localStorage.getItem('user_email');\n  const regMobile = localStorage.getItem('mobile_number');\n  useEffect(() => {\n    let varify = props.auth.varify;\n\n    if (varify) {\n      if (varify.status) {\n        props.dispatch({\n          type: 'auth/alrdregisterSuccess'\n        });\n        notification.success({\n          message: \"Account registerd sucessfully.\"\n        });\n        props.history.push('/login');\n      }\n    }\n  }, [props.auth.varify]);\n\n  const onFinish = values => {\n    const email = localStorage.getItem('user_email');\n    let val = {};\n\n    if (validateEmail(email)) {\n      val = {\n        email: email,\n        otp: values.otp\n      };\n    } else {\n      val = {\n        mobile_number: email,\n        otp: values.otp\n      };\n    }\n\n    props.dispatch({\n      type: 'auth/varifyOtp',\n      payload: val\n    });\n  };\n\n  const validateEmail = email => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const resendOTP = () => {\n    const email = localStorage.getItem('user_email');\n    let val = {\n      email: email\n    };\n    props.dispatch({\n      type: 'auth/resendOtp',\n      payload: val\n    });\n  };\n\n  const backButtun = () => {\n    props.dispatch({\n      type: 'auth/verifyBackNuttunSuccess'\n    });\n    props.history.push('/register');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(Apploader, {\n    show: props.loading.global,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    type: \"flex\",\n    className: \"basicpage\",\n    justify: \"space-around\",\n    align: \"middle\",\n    style: {\n      minHeight: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"basicbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainimg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      fontSize: '18px',\n      fontWeight: '600'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }\n  }, \"Validate OTP ( One Time Password )\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"A OTP ( One Time Password ) has been sent to your email address \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 79\n    }\n  }, regEmail), \" . Please enter the OTP in the field below to verify.\"), /*#__PURE__*/React.createElement(Form, {\n    name: \"otp\",\n    className: \"login-form\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"otp\",\n    rules: [{\n      required: true,\n      message: 'Please input your Otp!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 36\n      }\n    }),\n    placeholder: \"OTP Enter Here!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \" Verify \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    style: {\n      width: '50%',\n      float: 'left',\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"link\",\n    className: \"resend_link\",\n    onClick: () => backButtun(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    style: {\n      width: '50%',\n      float: 'left',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"link\",\n    className: \"resend_link\",\n    onClick: () => resendOTP(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"Resend OTP\"))))))));\n};\n\nexport default connect(_ref => {\n  let {\n    auth,\n    loading\n  } = _ref;\n  return {\n    auth,\n    loading\n  };\n})(AppVarify);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/varify.js"],"names":["React","useState","useEffect","Apploader","connect","Row","Col","Form","Input","Button","Divider","Checkbox","message","Modal","notification","UserOutlined","LockOutlined","FormItem","Item","AppVarify","props","regEmail","localStorage","getItem","regMobile","varify","auth","status","dispatch","type","success","history","push","onFinish","values","email","val","validateEmail","otp","mobile_number","payload","re","test","resendOTP","backButtun","loading","global","minHeight","textAlign","fontSize","fontWeight","marginBottom","remember","required","width","float"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport Apploader from './../../components/loader/loader'\r\nimport { connect } from 'dva';\r\nimport {Row, Col, Form, Input, Button,Divider, Checkbox, message , Modal,notification} from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nconst AppVarify = (props) => {\r\n  const regEmail = localStorage.getItem('user_email');\r\n  const regMobile = localStorage.getItem('mobile_number');\r\n\r\n  \r\n\r\n    useEffect(() => {\r\n        let varify = props.auth.varify;\r\n        if(varify){\r\n            if(varify.status){\r\n              props.dispatch({ type: 'auth/alrdregisterSuccess' });\r\n              notification.success({message: \"Account registerd sucessfully.\"});\r\n              props.history.push('/login');\r\n            }\r\n        }   \r\n    },[props.auth.varify]);\r\n\r\n    const onFinish = values => {\t\t\r\n        const email = localStorage.getItem('user_email');\r\n        let val = {};\r\n        if(validateEmail(email)){\r\n            val = { email: email, otp: values.otp };\r\n        }else{\r\n            val = { mobile_number: email, otp: values.otp };\r\n        }\r\n\r\n        props.dispatch({ type: 'auth/varifyOtp', payload: val });\r\n\r\n\r\n\t  };\r\n\r\n    const validateEmail = (email) =>{\r\n      var re = /\\S+@\\S+\\.\\S+/;\r\n      return re.test(email);\r\n  }\r\n\r\n  const resendOTP = () =>{\r\n    const email = localStorage.getItem('user_email');\r\n    let val = {email : email};\r\n    props.dispatch({ type: 'auth/resendOtp', payload: val });\r\n  }\r\n\r\n  const backButtun = () => {\r\n      props.dispatch({ type: 'auth/verifyBackNuttunSuccess' });\r\n      props.history.push('/register');\r\n  }\r\n\r\n  return (\r\n\t<div>\r\n\t\t<Apploader show={props.loading.global}/>\r\n\t\t<Row type=\"flex\" className={\"basicpage\"} justify=\"space-around\" align=\"middle\" style={{minHeight:'100vh'}}>\r\n\t\t\t<Col  className=\"basicbox\">\r\n\t\t\t\t<div className=\"mainimg\"></div>\r\n\t\t\t\t<div className=\"mainform\">\r\n\t\t\t\t\t<div style={{ textAlign:'center',fontSize: '18px',fontWeight: '600'}}>\r\n              Validate OTP ( One Time Password )\r\n\t\t\t\t\t</div>\r\n          <Divider />\r\n          <div style={{ textAlign:'center',marginBottom: '1rem'}}>\r\n              A OTP ( One Time Password ) has been sent to your email address <b>{regEmail}</b> . Please enter the OTP in the field below to verify. \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Form name=\"otp\" className=\"login-form\" initialValues={{ remember: true, }} onFinish={onFinish} >\r\n                <Form.Item name=\"otp\" rules={[ { required: true, message: 'Please input your Otp!', }, ]} >\r\n                    <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"OTP Enter Here!\" />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\"> Verify </Button>\r\n                </Form.Item>\r\n\t\t\t\t\t</Form>\r\n          <div className=\"col-md-12\" style={{width:'100%'}}>\r\n              <div className=\"row\">\r\n                  <div className=\"col-md-6\" style={{width:'50%', float:'left', textAlign:'left'}}> \r\n                    <Button type=\"link\" className='resend_link' onClick={()=> backButtun()}>Back</Button>\r\n                    {/* <Link to={\"register\"}>Back</Link> */}\r\n                  </div>\r\n                  <div className=\"col-md-6\" style={{width:'50%', float:'left', textAlign:'center'}}>\r\n                    <Button type=\"link\" className='resend_link' onClick={()=> resendOTP()}>Resend OTP</Button>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t</div>\r\n  );\r\n};\r\n\r\nexport default connect(({auth, loading}) => ({\r\n\tauth, loading\r\n}))(AppVarify);"]},"metadata":{},"sourceType":"module"}