{"ast":null,"code":"import _defineProperty from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,Fragment}from'react';import{Row,Col,Empty,Modal,Card,Typography,Alert,Form,Input,Checkbox,Button,Switch,Upload,Dropdown,Menu,Select,notification,Transfer,DatePicker,Avatar,message,Descriptions}from'antd';import{LeftOutlined,LoadingOutlined,EditOutlined,CloseOutlined}from'@ant-design/icons';import UploadImages from'../../../components/sharing/upload-images';import CropImage from'../../../components/sharing/crop-image';import TextEditor from'../../../components/sharing/text-editor';import moment from'moment';import{connect}from'dva';import styles from'./style.less';var Text=Typography.Text;var TextArea=Input.TextArea;var timestemp=new Date().getTime();var RangePicker=DatePicker.RangePicker;var formItemLayout={labelCol:{xs:{span:24},sm:{span:24}}};var dateFormat='YYYY/MM/DD';var AddEditSubAdmin=function AddEditSubAdmin(props){var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var dispatch=props.dispatch,category=props.category;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),detail=_useState4[0],setDetail=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),itemId=_useState6[0],setItemId=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),imageUrl=_useState8[0],setImageUrl=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),picModel=_useState10[0],setPicModel=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),InquiryData=_useState14[0],setInquiryData=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),Inquiry=_useState16[0],setInquiry=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),count=_useState18[0],setCount=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),ecount=_useState20[0],setECount=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),dcount=_useState22[0],setDCount=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),btnDis=_useState24[0],setBtnDis=_useState24[1];useEffect(function(){var unmounted=false;window.scroll(0,0);if(props.match&&props.match.params.id){setItemId(props.match.params.id);DetailFun(props.match.params.id);}else{form.resetFields();setImageUrl('');}return function(){unmounted=true;};},[dispatch]);var DetailFun=function DetailFun(id){props.dispatch({type:'users/getDetail',payload:{_id:id,profile_id:id}});};var onFinish=function onFinish(val){console.log(props,val);};useEffect(function(){var unmounted=false;// Edit\nvar edit=props.users.edit;if(!unmounted&&edit.count>ecount&&edit.status){setECount(edit.count);setBtnDis(false);setImageUrl('');cancelFun();}else if(!unmounted&&edit.count>ecount&&!edit.status){setBtnDis(false);setECount(edit.count);}// detail\nif(props.match&&props.match.params.id){var _detail=props.users.detail;console.log(\"detail : \",_detail);if(!unmounted&&_detail&&_detail.status){var _form$setFieldsValue;setDCount(_detail.count);var data=_detail.profile;setDetail(_objectSpread(_objectSpread({},data),{},{username:data.username,email:data.email,mobile_number:data.mobile_number,isEmailVerified:data.isEmailVerified,isMobileVerified:data.isMobileVerified,roles:data.roles}));form.setFieldsValue((_form$setFieldsValue={},_defineProperty(_form$setFieldsValue,'dob',moment(new Date(data.dob),'YYYY/MM/DD')),_defineProperty(_form$setFieldsValue,'email',data.email),_defineProperty(_form$setFieldsValue,'gender',data.gender),_defineProperty(_form$setFieldsValue,'name',data.name),_defineProperty(_form$setFieldsValue,'phone',data.phone),_defineProperty(_form$setFieldsValue,'photo',data.photo),_form$setFieldsValue));setImageUrl(data.photo);}else if(!unmounted&&_detail&&!_detail.status){setBtnDis(false);setDCount(_detail.count);}}return function(){unmounted=true;};},[props.users]);var cancelFun=function cancelFun(){form.resetFields();setImageUrl('');props.history.push('/subadmins');};var getNewImage=function getNewImage(val){setPicModel(false);setImageUrl(val[0]);form.setFieldsValue({images:val});};var removeImgFun=function removeImgFun(){setImageUrl('');form.setFieldsValue({images:[]});};var uploadButton=/*#__PURE__*/React.createElement(\"div\",null,loading?/*#__PURE__*/React.createElement(LoadingOutlined,null):/*#__PURE__*/React.createElement(\"i\",{className:\"fad fa-camera-retro\",style:{color:\"#13c2c2\",fontSize:57}}));return/*#__PURE__*/React.createElement(Card,{title:/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(LeftOutlined,{onClick:function onClick(){return props.history.push('/subadmins');}}),\" User Details\"),style:{marginTop:\"0\"}},/*#__PURE__*/React.createElement(Descriptions,{size:'middle',bordered:true},/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Name\"},detail.username),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Email\"},detail.email),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Is Email Verified\"},detail.isEmailVerified?'true':'false'),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Role\"},detail.roles),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Profile Created On\"},moment(detail.create).format(dateFormat)),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"DOB\"},detail.dob),/*#__PURE__*/React.createElement(Descriptions.Item,{label:\"Mobile No\"},detail.mobile_number)));};export default connect(function(_ref){var users=_ref.users,global=_ref.global,loading=_ref.loading;return{users:users,global:global};})(AddEditSubAdmin);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/subadmin/action/addEdit.jsx"],"names":["React","useState","useEffect","useRef","Fragment","Row","Col","Empty","Modal","Card","Typography","Alert","Form","Input","Checkbox","Button","Switch","Upload","Dropdown","Menu","Select","notification","Transfer","DatePicker","Avatar","message","Descriptions","LeftOutlined","LoadingOutlined","EditOutlined","CloseOutlined","UploadImages","CropImage","TextEditor","moment","connect","styles","Text","TextArea","timestemp","Date","getTime","RangePicker","formItemLayout","labelCol","xs","span","sm","dateFormat","AddEditSubAdmin","props","useForm","form","dispatch","category","visible","setVisible","detail","setDetail","itemId","setItemId","imageUrl","setImageUrl","picModel","setPicModel","loading","setLoading","InquiryData","setInquiryData","Inquiry","setInquiry","count","setCount","ecount","setECount","dcount","setDCount","btnDis","setBtnDis","unmounted","window","scroll","match","params","id","DetailFun","resetFields","type","payload","_id","profile_id","onFinish","val","console","log","edit","users","status","cancelFun","data","profile","username","email","mobile_number","isEmailVerified","isMobileVerified","roles","setFieldsValue","dob","gender","name","phone","photo","history","push","getNewImage","images","removeImgFun","uploadButton","color","fontSize","marginTop","create","format","global"],"mappings":"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","sourcesContent":["import React, { useState,useEffect,useRef, Fragment} from 'react';\r\nimport {Row, Col, Empty, Modal, Card, Typography, Alert,Form,Input, Checkbox,Button,Switch, Upload, Dropdown, Menu, Select, notification, Transfer, DatePicker, Avatar, message, Descriptions } from 'antd';\r\nimport { LeftOutlined, LoadingOutlined, EditOutlined, CloseOutlined} from '@ant-design/icons';\r\nimport UploadImages from '../../../components/sharing/upload-images'\r\nimport CropImage from '../../../components/sharing/crop-image'\r\nimport TextEditor from '../../../components/sharing/text-editor'\r\nimport moment from 'moment';\r\nimport { connect } from 'dva';\r\nimport styles from './style.less';\r\n\r\nconst { Text } = Typography;\r\nconst { TextArea } = Input;\r\nconst timestemp = (new Date()).getTime();\r\nconst { RangePicker } = DatePicker;\r\nconst formItemLayout = { labelCol: {xs: { span: 24, },  sm: { span: 24, },}};\r\nconst dateFormat = 'YYYY/MM/DD';\r\n\r\nconst AddEditSubAdmin =props => {\r\n\tconst [form] = Form.useForm();\r\n\tconst { dispatch, category } = props;\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst [detail, setDetail] = useState({});\r\n\tconst [itemId, setItemId] = useState()\r\n\tconst [imageUrl, setImageUrl] = useState('');\r\n\tconst [picModel, setPicModel] = useState(false);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [InquiryData, setInquiryData] = useState(''); \r\n\tconst [Inquiry, setInquiry] = useState('');\r\n\tconst [count, setCount] = useState(0)\r\n\tconst [ecount, setECount] = useState(0)\r\n\tconst [dcount, setDCount] = useState(0)\r\n\tconst [btnDis, setBtnDis] = useState(false)\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\twindow.scroll(0, 0);\r\n\t\tif(props.match && props.match.params.id)\r\n\t\t{\r\n\t\t\tsetItemId(props.match.params.id)\r\n\t\t\tDetailFun(props.match.params.id)\r\n\t\t}else {\r\n\t\t\tform.resetFields();\r\n\t\t\tsetImageUrl('');\r\n\t\t}\r\n\t\treturn () => { unmounted = true; }\r\n    },[dispatch])\r\n\t\r\n\t\r\n\tconst DetailFun=(id)=>{\r\n\t\tprops.dispatch({type: 'users/getDetail', payload: { _id: id, profile_id: id }});\r\n\t}\r\n\t\r\n\tconst onFinish= val=>{\r\n\t\tconsole.log(props, val)\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\t// Edit\r\n\t\tlet edit = props.users.edit\r\n\t\tif(!unmounted && edit.count > ecount && edit.status){\r\n\t\t  setECount(edit.count);\r\n\t\t  setBtnDis(false);\r\n\t\t  setImageUrl('');\r\n\t\t  cancelFun();\r\n\t\t}else if(!unmounted && edit.count > ecount && !edit.status){\r\n\t\t  setBtnDis(false);\r\n\t\t  setECount(edit.count);\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\t// detail\r\n\t\tif(props.match && props.match.params.id)\r\n\t\t{\r\n\t\t\t\r\n\t\t\tlet detail = props.users.detail;\r\n\t\t\tconsole.log(\"detail : \", detail);\r\n\t\t\tif(!unmounted &&  detail && detail.status){\r\n\t\t\t  setDCount(detail.count);\r\n\t\t\t  let data = detail.profile;\r\n\t\t\t\tsetDetail({\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tusername: data.username,\r\n\t\t\t\t\temail: data.email,\r\n\t\t\t\t\tmobile_number: data.mobile_number,\r\n\t\t\t\t\tisEmailVerified: data.isEmailVerified,\r\n\t\t\t\t\tisMobileVerified: data.isMobileVerified,\r\n\t\t\t\t\troles: data.roles,\r\n\t\t\t\t})\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t  ['dob']: moment(new Date(data.dob), 'YYYY/MM/DD'),  ['email']: data.email, ['gender']: data.gender, ['name']: data.name, ['phone']: data.phone, ['photo']: data.photo\r\n\t\t\t\t});\r\n\t\t\t\tsetImageUrl(data.photo);\r\n\t\t\t}else if(!unmounted && detail && !detail.status){\r\n\t\t\t  setBtnDis(false);\r\n\t\t\t  setDCount(detail.count);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn () => {unmounted = true;\t}\r\n\r\n    },[props.users])\r\n\t\r\n\tconst cancelFun = ()=>{\r\n\t\tform.resetFields();\r\n\t\tsetImageUrl('');\r\n\t\tprops.history.push('/subadmins');\r\n\t}\r\n\tconst getNewImage = val =>{\r\n\t\tsetPicModel(false);\r\n\t\tsetImageUrl(val[0])\r\n\t\tform.setFieldsValue({images:val})\r\n\t}\r\n\tconst removeImgFun=()=>{\r\n\t\tsetImageUrl('');\r\n\t\tform.setFieldsValue({images:[]});\r\n\t}\r\n\tconst uploadButton = (\r\n      <div>\r\n\t\t{loading ? <LoadingOutlined /> : <i className=\"fad fa-camera-retro\" style={{color:\"#13c2c2\", fontSize: 57}} />}\r\n      </div>\r\n    );\r\n\t\r\nreturn (\r\n\r\n\t<Card title={<span><LeftOutlined onClick={()=> props.history.push('/subadmins')}/> User Details</span>} style={{marginTop:\"0\"}}>\r\n\t\t{/* <div className={'uploaderImg'} >\r\n\t\t\t\t\t\t\t\t{detail.avatar ? <img src={detail.avatar} alt=\"avatar\" style={{ maxWidth: '100%', maxHeight: '100%' }} className='pro_pic' /> : uploadButton}\r\n\t\t\t\t\t\t\t</div> */}\r\n\t\t<Descriptions size={'middle'} bordered>\r\n\t\r\n\t\t\t\t\t\t\t\r\n          <Descriptions.Item label=\"Name\">{detail.username}</Descriptions.Item>\r\n\t\t  <Descriptions.Item label=\"Email\">{detail.email}</Descriptions.Item>\r\n\t\t  <Descriptions.Item label=\"Is Email Verified\">{detail.isEmailVerified ? 'true' : 'false'}</Descriptions.Item>\r\n\t\t  <Descriptions.Item label=\"Role\">{detail.roles}</Descriptions.Item>\r\n          <Descriptions.Item label=\"Profile Created On\">{moment(detail.create).format(dateFormat)}</Descriptions.Item>\r\n\t\t  <Descriptions.Item label=\"DOB\">{detail.dob}</Descriptions.Item>\r\n\t\t  <Descriptions.Item label=\"Mobile No\">{detail.mobile_number}</Descriptions.Item>\r\n\r\n\r\n\t\t  \r\n        </Descriptions>\r\n\t</Card>\r\n)};\r\n\r\nexport default connect(({ users, global, loading }) => ({\r\n  users:users,\r\n  global: global\r\n}))(AddEditSubAdmin);"]},"metadata":{},"sourceType":"module"}