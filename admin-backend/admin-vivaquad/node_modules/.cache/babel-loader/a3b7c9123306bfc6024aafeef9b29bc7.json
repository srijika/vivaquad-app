{"ast":null,"code":"import React,{useState,useEffect}from'react';import Apploader from'./../../components/loader/loader';import{connect}from'dva';import{Row,Col,Form,Input,Button,Divider,Checkbox,message,Modal,notification}from'antd';import{UserOutlined,LockOutlined}from'@ant-design/icons';var FormItem=Form.Item;var AppVarify=function AppVarify(props){var regEmail=localStorage.getItem('user_email');var regMobile=localStorage.getItem('mobile_number');useEffect(function(){var varify=props.auth.varify;if(varify){if(varify.status){props.dispatch({type:'auth/alrdregisterSuccess'});notification.success({message:\"Account registerd sucessfully.\"});props.history.push('/login');}}},[props.auth.varify]);var onFinish=function onFinish(values){var email=localStorage.getItem('user_email');var val={};if(validateEmail(email)){val={email:email,otp:values.otp};}else{val={mobile_number:email,otp:values.otp};}props.dispatch({type:'auth/varifyOtp',payload:val});};var validateEmail=function validateEmail(email){var re=/\\S+@\\S+\\.\\S+/;return re.test(email);};var resendOTP=function resendOTP(){var email=localStorage.getItem('user_email');var val={email:email};props.dispatch({type:'auth/resendOtp',payload:val});};var backButtun=function backButtun(){props.dispatch({type:'auth/verifyBackNuttunSuccess'});props.history.push('/register');};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Apploader,{show:props.loading.global}),/*#__PURE__*/React.createElement(Row,{type:\"flex\",className:\"basicpage\",justify:\"space-around\",align:\"middle\",style:{minHeight:'100vh'}},/*#__PURE__*/React.createElement(Col,{className:\"basicbox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mainimg\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mainform\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',fontSize:'18px',fontWeight:'600'}},\"Validate OTP ( One Time Password )\"),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',marginBottom:'1rem'}},\"A OTP ( One Time Password ) has been sent to your email address \",/*#__PURE__*/React.createElement(\"b\",null,regEmail),\" . Please enter the OTP in the field below to verify.\"),/*#__PURE__*/React.createElement(Form,{name:\"otp\",className:\"login-form\",initialValues:{remember:true},onFinish:onFinish},/*#__PURE__*/React.createElement(Form.Item,{name:\"otp\",rules:[{required:true,message:'Please input your Otp!'}]},/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(UserOutlined,{className:\"site-form-item-icon\"}),placeholder:\"OTP Enter Here!\"})),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form-button\"},\" Verify \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\",style:{width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\",style:{width:'50%',float:'left',textAlign:'left'}},/*#__PURE__*/React.createElement(Button,{type:\"link\",className:\"resend_link\",onClick:function onClick(){return backButtun();}},\"Back\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\",style:{width:'50%',float:'left',textAlign:'center'}},/*#__PURE__*/React.createElement(Button,{type:\"link\",className:\"resend_link\",onClick:function onClick(){return resendOTP();}},\"Resend OTP\"))))))));};export default connect(function(_ref){var auth=_ref.auth,loading=_ref.loading;return{auth:auth,loading:loading};})(AppVarify);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/varify.js"],"names":["React","useState","useEffect","Apploader","connect","Row","Col","Form","Input","Button","Divider","Checkbox","message","Modal","notification","UserOutlined","LockOutlined","FormItem","Item","AppVarify","props","regEmail","localStorage","getItem","regMobile","varify","auth","status","dispatch","type","success","history","push","onFinish","values","email","val","validateEmail","otp","mobile_number","payload","re","test","resendOTP","backButtun","loading","global","minHeight","textAlign","fontSize","fontWeight","marginBottom","remember","required","width","float"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CACA,OAASC,OAAT,KAAwB,KAAxB,CACA,OAAQC,GAAR,CAAaC,GAAb,CAAkBC,IAAlB,CAAwBC,KAAxB,CAA+BC,MAA/B,CAAsCC,OAAtC,CAA+CC,QAA/C,CAAyDC,OAAzD,CAAmEC,KAAnE,CAAyEC,YAAzE,KAA4F,MAA5F,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,mBAA3C,CAEA,GAAMC,CAAAA,QAAQ,CAAGV,IAAI,CAACW,IAAtB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,GAAMC,CAAAA,QAAQ,CAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAjB,CACA,GAAMC,CAAAA,SAAS,CAAGF,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAlB,CAIErB,SAAS,CAAC,UAAM,CACZ,GAAIuB,CAAAA,MAAM,CAAGL,KAAK,CAACM,IAAN,CAAWD,MAAxB,CACA,GAAGA,MAAH,CAAU,CACN,GAAGA,MAAM,CAACE,MAAV,CAAiB,CACfP,KAAK,CAACQ,QAAN,CAAe,CAAEC,IAAI,CAAE,0BAAR,CAAf,EACAf,YAAY,CAACgB,OAAb,CAAqB,CAAClB,OAAO,CAAE,gCAAV,CAArB,EACAQ,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EACD,CACJ,CACJ,CATQ,CASP,CAACZ,KAAK,CAACM,IAAN,CAAWD,MAAZ,CATO,CAAT,CAWA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,MAAM,CAAI,CACvB,GAAMC,CAAAA,KAAK,CAAGb,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd,CACA,GAAIa,CAAAA,GAAG,CAAG,EAAV,CACA,GAAGC,aAAa,CAACF,KAAD,CAAhB,CAAwB,CACpBC,GAAG,CAAG,CAAED,KAAK,CAAEA,KAAT,CAAgBG,GAAG,CAAEJ,MAAM,CAACI,GAA5B,CAAN,CACH,CAFD,IAEK,CACDF,GAAG,CAAG,CAAEG,aAAa,CAAEJ,KAAjB,CAAwBG,GAAG,CAAEJ,MAAM,CAACI,GAApC,CAAN,CACH,CAEDlB,KAAK,CAACQ,QAAN,CAAe,CAAEC,IAAI,CAAE,gBAAR,CAA0BW,OAAO,CAAEJ,GAAnC,CAAf,EAGJ,CAZA,CAcA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACF,KAAD,CAAU,CAC9B,GAAIM,CAAAA,EAAE,CAAG,cAAT,CACA,MAAOA,CAAAA,EAAE,CAACC,IAAH,CAAQP,KAAR,CAAP,CACH,CAHC,CAKF,GAAMQ,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAK,CACrB,GAAMR,CAAAA,KAAK,CAAGb,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd,CACA,GAAIa,CAAAA,GAAG,CAAG,CAACD,KAAK,CAAGA,KAAT,CAAV,CACAf,KAAK,CAACQ,QAAN,CAAe,CAAEC,IAAI,CAAE,gBAAR,CAA0BW,OAAO,CAAEJ,GAAnC,CAAf,EACD,CAJD,CAMA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBxB,KAAK,CAACQ,QAAN,CAAe,CAAEC,IAAI,CAAE,8BAAR,CAAf,EACAT,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,WAAnB,EACH,CAHD,CAKA,mBACD,4CACC,oBAAC,SAAD,EAAW,IAAI,CAAEZ,KAAK,CAACyB,OAAN,CAAcC,MAA/B,EADD,cAEC,oBAAC,GAAD,EAAK,IAAI,CAAC,MAAV,CAAiB,SAAS,CAAE,WAA5B,CAAyC,OAAO,CAAC,cAAjD,CAAgE,KAAK,CAAC,QAAtE,CAA+E,KAAK,CAAE,CAACC,SAAS,CAAC,OAAX,CAAtF,eACC,oBAAC,GAAD,EAAM,SAAS,CAAC,UAAhB,eACC,2BAAK,SAAS,CAAC,SAAf,EADD,cAEC,2BAAK,SAAS,CAAC,UAAf,eACC,2BAAK,KAAK,CAAE,CAAEC,SAAS,CAAC,QAAZ,CAAqBC,QAAQ,CAAE,MAA/B,CAAsCC,UAAU,CAAE,KAAlD,CAAZ,uCADD,cAIM,oBAAC,OAAD,MAJN,cAKM,2BAAK,KAAK,CAAE,CAAEF,SAAS,CAAC,QAAZ,CAAqBG,YAAY,CAAE,MAAnC,CAAZ,kFACoE,6BAAI9B,QAAJ,CADpE,yDALN,cAQC,oBAAC,IAAD,EAAM,IAAI,CAAC,KAAX,CAAiB,SAAS,CAAC,YAA3B,CAAwC,aAAa,CAAE,CAAE+B,QAAQ,CAAE,IAAZ,CAAvD,CAA4E,QAAQ,CAAEnB,QAAtF,eACW,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,KAAhB,CAAsB,KAAK,CAAE,CAAE,CAAEoB,QAAQ,CAAE,IAAZ,CAAkBzC,OAAO,CAAE,wBAA3B,CAAF,CAA7B,eACI,oBAAC,KAAD,EAAO,MAAM,cAAE,oBAAC,YAAD,EAAc,SAAS,CAAC,qBAAxB,EAAf,CAAiE,WAAW,CAAC,iBAA7E,EADJ,CADX,cAIW,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,CAAyC,SAAS,CAAC,mBAAnD,aADJ,CAJX,CARD,cAgBM,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAC0C,KAAK,CAAC,MAAP,CAAlC,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAACA,KAAK,CAAC,KAAP,CAAcC,KAAK,CAAC,MAApB,CAA4BP,SAAS,CAAC,MAAtC,CAAjC,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,SAAS,CAAC,aAA9B,CAA4C,OAAO,CAAE,yBAAKJ,CAAAA,UAAU,EAAf,EAArD,SADF,CADJ,cAKI,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAACU,KAAK,CAAC,KAAP,CAAcC,KAAK,CAAC,MAApB,CAA4BP,SAAS,CAAC,QAAtC,CAAjC,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,SAAS,CAAC,aAA9B,CAA4C,OAAO,CAAE,yBAAKL,CAAAA,SAAS,EAAd,EAArD,eADF,CALJ,CADJ,CAhBN,CAFD,CADD,CAFD,CADC,CAuCD,CAtFD,CAwFA,cAAevC,CAAAA,OAAO,CAAC,kBAAEsB,CAAAA,IAAF,MAAEA,IAAF,CAAQmB,OAAR,MAAQA,OAAR,OAAsB,CAC5CnB,IAAI,CAAJA,IAD4C,CACtCmB,OAAO,CAAPA,OADsC,CAAtB,EAAD,CAAP,CAEX1B,SAFW,CAAf","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport Apploader from './../../components/loader/loader'\r\nimport { connect } from 'dva';\r\nimport {Row, Col, Form, Input, Button,Divider, Checkbox, message , Modal,notification} from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nconst AppVarify = (props) => {\r\n  const regEmail = localStorage.getItem('user_email');\r\n  const regMobile = localStorage.getItem('mobile_number');\r\n\r\n  \r\n\r\n    useEffect(() => {\r\n        let varify = props.auth.varify;\r\n        if(varify){\r\n            if(varify.status){\r\n              props.dispatch({ type: 'auth/alrdregisterSuccess' });\r\n              notification.success({message: \"Account registerd sucessfully.\"});\r\n              props.history.push('/login');\r\n            }\r\n        }   \r\n    },[props.auth.varify]);\r\n\r\n    const onFinish = values => {\t\t\r\n        const email = localStorage.getItem('user_email');\r\n        let val = {};\r\n        if(validateEmail(email)){\r\n            val = { email: email, otp: values.otp };\r\n        }else{\r\n            val = { mobile_number: email, otp: values.otp };\r\n        }\r\n\r\n        props.dispatch({ type: 'auth/varifyOtp', payload: val });\r\n\r\n\r\n\t  };\r\n\r\n    const validateEmail = (email) =>{\r\n      var re = /\\S+@\\S+\\.\\S+/;\r\n      return re.test(email);\r\n  }\r\n\r\n  const resendOTP = () =>{\r\n    const email = localStorage.getItem('user_email');\r\n    let val = {email : email};\r\n    props.dispatch({ type: 'auth/resendOtp', payload: val });\r\n  }\r\n\r\n  const backButtun = () => {\r\n      props.dispatch({ type: 'auth/verifyBackNuttunSuccess' });\r\n      props.history.push('/register');\r\n  }\r\n\r\n  return (\r\n\t<div>\r\n\t\t<Apploader show={props.loading.global}/>\r\n\t\t<Row type=\"flex\" className={\"basicpage\"} justify=\"space-around\" align=\"middle\" style={{minHeight:'100vh'}}>\r\n\t\t\t<Col  className=\"basicbox\">\r\n\t\t\t\t<div className=\"mainimg\"></div>\r\n\t\t\t\t<div className=\"mainform\">\r\n\t\t\t\t\t<div style={{ textAlign:'center',fontSize: '18px',fontWeight: '600'}}>\r\n              Validate OTP ( One Time Password )\r\n\t\t\t\t\t</div>\r\n          <Divider />\r\n          <div style={{ textAlign:'center',marginBottom: '1rem'}}>\r\n              A OTP ( One Time Password ) has been sent to your email address <b>{regEmail}</b> . Please enter the OTP in the field below to verify. \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Form name=\"otp\" className=\"login-form\" initialValues={{ remember: true, }} onFinish={onFinish} >\r\n                <Form.Item name=\"otp\" rules={[ { required: true, message: 'Please input your Otp!', }, ]} >\r\n                    <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"OTP Enter Here!\" />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\"> Verify </Button>\r\n                </Form.Item>\r\n\t\t\t\t\t</Form>\r\n          <div className=\"col-md-12\" style={{width:'100%'}}>\r\n              <div className=\"row\">\r\n                  <div className=\"col-md-6\" style={{width:'50%', float:'left', textAlign:'left'}}> \r\n                    <Button type=\"link\" className='resend_link' onClick={()=> backButtun()}>Back</Button>\r\n                    {/* <Link to={\"register\"}>Back</Link> */}\r\n                  </div>\r\n                  <div className=\"col-md-6\" style={{width:'50%', float:'left', textAlign:'center'}}>\r\n                    <Button type=\"link\" className='resend_link' onClick={()=> resendOTP()}>Resend OTP</Button>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t</div>\r\n  );\r\n};\r\n\r\nexport default connect(({auth, loading}) => ({\r\n\tauth, loading\r\n}))(AppVarify);"]},"metadata":{},"sourceType":"module"}