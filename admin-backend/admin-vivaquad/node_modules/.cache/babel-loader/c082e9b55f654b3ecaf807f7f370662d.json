{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = checkModel;\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime/core-js/object/keys\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _utils = require(\"./utils\");\n\nfunction checkModel(model, existModels) {\n  var namespace = model.namespace,\n      reducers = model.reducers,\n      effects = model.effects,\n      subscriptions = model.subscriptions; // namespace 必须被定义\n\n  (0, _invariant.default)(namespace, \"[app.model] namespace should be defined\"); // 并且是字符串\n\n  (0, _invariant.default)(typeof namespace === 'string', \"[app.model] namespace should be string, but got \".concat((0, _typeof2.default)(namespace))); // 并且唯一\n\n  (0, _invariant.default)(!existModels.some(function (model) {\n    return model.namespace === namespace;\n  }), \"[app.model] namespace should be unique\"); // state 可以为任意值\n  // reducers 可以为空，PlainObject 或者数组\n\n  if (reducers) {\n    (0, _invariant.default)((0, _utils.isPlainObject)(reducers) || (0, _utils.isArray)(reducers), \"[app.model] reducers should be plain object or array, but got \".concat((0, _typeof2.default)(reducers))); // 数组的 reducers 必须是 [Object, Function] 的格式\n\n    (0, _invariant.default)(!(0, _utils.isArray)(reducers) || (0, _utils.isPlainObject)(reducers[0]) && (0, _utils.isFunction)(reducers[1]), \"[app.model] reducers with array should be [Object, Function]\");\n  } // effects 可以为空，PlainObject\n\n\n  if (effects) {\n    (0, _invariant.default)((0, _utils.isPlainObject)(effects), \"[app.model] effects should be plain object, but got \".concat((0, _typeof2.default)(effects)));\n  }\n\n  if (subscriptions) {\n    // subscriptions 可以为空，PlainObject\n    (0, _invariant.default)((0, _utils.isPlainObject)(subscriptions), \"[app.model] subscriptions should be plain object, but got \".concat((0, _typeof2.default)(subscriptions))); // subscription 必须为函数\n\n    (0, _invariant.default)(isAllFunction(subscriptions), \"[app.model] subscription should be function\");\n  }\n}\n\nfunction isAllFunction(obj) {\n  return (0, _keys.default)(obj).every(function (key) {\n    return (0, _utils.isFunction)(obj[key]);\n  });\n}","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/node_modules/dva-core/lib/checkModel.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","checkModel","_keys","_typeof2","_invariant","_utils","model","existModels","namespace","reducers","effects","subscriptions","concat","some","isPlainObject","isArray","isFunction","isAllFunction","obj","every","key"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = checkModel;\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime/core-js/object/keys\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _utils = require(\"./utils\");\n\nfunction checkModel(model, existModels) {\n  var namespace = model.namespace,\n      reducers = model.reducers,\n      effects = model.effects,\n      subscriptions = model.subscriptions; // namespace 必须被定义\n\n  (0, _invariant.default)(namespace, \"[app.model] namespace should be defined\"); // 并且是字符串\n\n  (0, _invariant.default)(typeof namespace === 'string', \"[app.model] namespace should be string, but got \".concat((0, _typeof2.default)(namespace))); // 并且唯一\n\n  (0, _invariant.default)(!existModels.some(function (model) {\n    return model.namespace === namespace;\n  }), \"[app.model] namespace should be unique\"); // state 可以为任意值\n  // reducers 可以为空，PlainObject 或者数组\n\n  if (reducers) {\n    (0, _invariant.default)((0, _utils.isPlainObject)(reducers) || (0, _utils.isArray)(reducers), \"[app.model] reducers should be plain object or array, but got \".concat((0, _typeof2.default)(reducers))); // 数组的 reducers 必须是 [Object, Function] 的格式\n\n    (0, _invariant.default)(!(0, _utils.isArray)(reducers) || (0, _utils.isPlainObject)(reducers[0]) && (0, _utils.isFunction)(reducers[1]), \"[app.model] reducers with array should be [Object, Function]\");\n  } // effects 可以为空，PlainObject\n\n\n  if (effects) {\n    (0, _invariant.default)((0, _utils.isPlainObject)(effects), \"[app.model] effects should be plain object, but got \".concat((0, _typeof2.default)(effects)));\n  }\n\n  if (subscriptions) {\n    // subscriptions 可以为空，PlainObject\n    (0, _invariant.default)((0, _utils.isPlainObject)(subscriptions), \"[app.model] subscriptions should be plain object, but got \".concat((0, _typeof2.default)(subscriptions))); // subscription 必须为函数\n\n    (0, _invariant.default)(isAllFunction(subscriptions), \"[app.model] subscription should be function\");\n  }\n}\n\nfunction isAllFunction(obj) {\n  return (0, _keys.default)(obj).every(function (key) {\n    return (0, _utils.isFunction)(obj[key]);\n  });\n}"]},"metadata":{},"sourceType":"script"}