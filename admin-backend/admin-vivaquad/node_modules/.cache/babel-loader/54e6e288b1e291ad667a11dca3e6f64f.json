{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getDashboardData,getprofile,updateprofile,deleteUser}from'../services/api';import{message}from'antd';export default{namespace:'account',state:{dashborddetail:{count:0},detail:{count:0},del:{count:0},add:{count:0},edit:{count:0}},subscriptions:{setup:function setup(_ref){var dispatch=_ref.dispatch,history=_ref.history;}},effects:{getDashbordDetail:/*#__PURE__*/_regeneratorRuntime.mark(function getDashbordDetail(_ref2,_ref3){var payload,call,put,response;return _regeneratorRuntime.wrap(function getDashbordDetail$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref2.payload;call=_ref3.call,put=_ref3.put;_context.next=4;return call(getDashboardData,payload);case 4:response=_context.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}_context.next=8;return put(_objectSpread({type:'dashborddetail'},response));case 8:case\"end\":return _context.stop();}}},getDashbordDetail);}),getDetail:/*#__PURE__*/_regeneratorRuntime.mark(function getDetail(_ref4,_ref5){var payload,call,put,response;return _regeneratorRuntime.wrap(function getDetail$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref4.payload;call=_ref5.call,put=_ref5.put;_context2.next=4;return call(getprofile,payload);case 4:response=_context2.sent;if(!payload._id){_context2.next=9;break;}if(!response.status){message.error(response.msg||response.message||response.err,5);}_context2.next=9;return put(_objectSpread({type:'detail'},response));case 9:case\"end\":return _context2.stop();}}},getDetail);}),editItem:/*#__PURE__*/_regeneratorRuntime.mark(function editItem(_ref6,_ref7){var payload,history,call,put,response;return _regeneratorRuntime.wrap(function editItem$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref6.payload,history=_ref6.history;call=_ref7.call,put=_ref7.put;console.log(history.history);_context3.next=5;return call(updateprofile,payload);case 5:response=_context3.sent;if(!response.status){message.error(response.msg||response.message||\"Account Updated!\",5);}if(response.status){message.success(\"Profile Updated Successfull\"||response.message||response.err,5);history.history.push('/');}_context3.next=10;return put(_objectSpread({type:'edit'},response));case 10:case\"end\":return _context3.stop();}}},editItem);}),deleteItem:/*#__PURE__*/_regeneratorRuntime.mark(function deleteItem(_ref8,_ref9){var payload,call,put,response;return _regeneratorRuntime.wrap(function deleteItem$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref8.payload;call=_ref9.call,put=_ref9.put;_context4.next=4;return call(deleteUser,payload);case 4:response=_context4.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}if(response.status){message.success(\"User Deleted Successfully!\",5);}_context4.next=9;return put(_objectSpread({type:'del'},response));case 9:case\"end\":return _context4.stop();}}},deleteItem);}),clearAction:/*#__PURE__*/_regeneratorRuntime.mark(function clearAction(_ref10,_ref11){var payload,call,put;return _regeneratorRuntime.wrap(function clearAction$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref10.payload;call=_ref11.call,put=_ref11.put;_context5.next=4;return put({type:'clear'});case 4:case\"end\":return _context5.stop();}}},clearAction);})},reducers:{dashborddetail:function dashborddetail(state,action){action.count=state.dashborddetail.count+1;return _objectSpread(_objectSpread({},state),{},{dashborddetail:action});},list:function list(state,action){return _objectSpread(_objectSpread({},state),{},{list:action});},detail:function detail(state,action){action.count=state.detail.count+1;return _objectSpread(_objectSpread({},state),{},{detail:action});},edit:function edit(state,action){action.count=state.edit.count+1;return _objectSpread(_objectSpread({},state),{},{edit:action});},del:function del(state,action){action.count=state.del.count+1;return _objectSpread(_objectSpread({},state),{},{del:action});},clear:function clear(state,action){return _objectSpread(_objectSpread({},state),{},{edit:{count:0},del:{count:0}});}}};","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/models/account.js"],"names":["getDashboardData","getprofile","updateprofile","deleteUser","message","namespace","state","dashborddetail","count","detail","del","add","edit","subscriptions","setup","dispatch","history","effects","getDashbordDetail","payload","call","put","response","status","error","msg","err","type","getDetail","_id","editItem","console","log","success","push","deleteItem","clearAction","reducers","action","list","clear"],"mappings":"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","sourcesContent":["import {getDashboardData, getprofile, updateprofile, deleteUser} from '../services/api'\r\nimport {message} from 'antd'; \r\nexport default {\r\n  namespace: 'account',\r\n\r\n  state: {\r\n    dashborddetail:{count:0},\r\n    detail:{count:0},\r\n    del:{count:0},\r\n    add:{count:0},\r\n    edit:{count:0}  \r\n\t},  \r\n  subscriptions: {\r\n    setup({ dispatch, history }) { \r\n    },\r\n  },\r\n\r\n  effects: {\r\n    *getDashbordDetail({ payload }, { call, put }) {\r\n      const response = yield call(getDashboardData, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      yield put({ type: 'dashborddetail', ...response});\r\n    },\r\n    *getDetail({ payload }, { call, put }) {\r\n      const response = yield call(getprofile, payload);\r\n      // console.log(payload._id)\r\n      if(payload._id){\r\n        if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n        yield put({ type: 'detail', ...response});\r\n      }\r\n\r\n     \r\n    },\r\n    *editItem({ payload , history }, { call, put }) {\r\n      console.log(history.history)\r\n      const response = yield call(updateprofile, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || \"Account Updated!\", 5);}\r\n      if(response.status) {message.success(\"Profile Updated Successfull\" || response.message || response.err, 5);\r\n      history.history.push('/')\r\n    } \r\n      yield put({ type: 'edit', ...response});\r\n    },\r\n    *deleteItem({ payload }, { call, put }) {\r\n      const response = yield call(deleteUser, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      if(response.status) {message.success(\"User Deleted Successfully!\", 5);} \r\n      yield put({ type: 'del', ...response});\r\n    },\r\n\t*clearAction({ payload }, { call, put }) {\r\n      yield put({ type: 'clear'});\r\n    },\r\n  },\r\n\r\n  reducers: {\r\n    dashborddetail(state, action) {\r\n      action.count = state.dashborddetail.count+1;\r\n      return { ...state, dashborddetail:action };\r\n    },\r\n    list(state, action) {\r\n      return { ...state, list:action };\r\n    },\r\n    detail(state, action) {\r\n\t\taction.count = state.detail.count+1;\r\n      return { ...state, detail:action };\r\n    },\r\n    edit(state, action) {\r\n\t\taction.count = state.edit.count+1;\r\n\t\treturn { ...state, edit:action };\r\n    },\r\n    del(state, action) {\r\n\t\taction.count = state.del.count+1;\r\n\t\treturn { ...state, del:action };\r\n    },\r\n\tclear(state, action) {\r\n\t\treturn { ...state, edit:{count:0}, del:{count:0}};\r\n    },\r\n  },\r\n};"]},"metadata":{},"sourceType":"module"}