{"ast":null,"code":"var _jsxFileName = \"/var/www/html/project/vivaquad/admin-vivaquad/src/components/AppHeader/AppHeader.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"dva\";\nimport { Row, Col, Menu, Avatar, Dropdown, Modal } from \"antd\";\nimport Logo from '../../assets/img/logo.png';\nimport { LogoutOutlined, SettingOutlined, MenuOutlined, UserOutlined, BellOutlined } from \"@ant-design/icons\";\nimport \"./AppHeader.less\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport axios from 'axios'; // import VerifiedImg from '../../images/ver.png'\n\nconst baseUrl = process.env.REACT_APP_ApiUrl;\nlet user_data = JSON.parse(localStorage.getItem('user'));\nlet user_id;\n\nif (user_data != undefined && user_data != \"\" && user_data != null) {\n  user_id = user_data._id;\n}\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onMenuClick = val => {\n      if (val.key === \"logout\") {\n        this.props.dispatch({\n          type: \"auth/logoutApp\"\n        }); //localStorage.removeItem('token');\n\n        localStorage.clear();\n        return /*#__PURE__*/React.createElement(Redirect, {\n          exact: true,\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 14\n          }\n        });\n      }\n    };\n\n    this.toggle = () => this.props.dispatch({\n      type: \"global/toggle\"\n    });\n\n    this.clearAllNotifications = async () => {\n      this.setState({\n        notifications: \"\"\n      });\n      alert('Notification cleared successfully');\n      const res = await axios.post(`${baseUrl}/all/messages/mark-as-read`, {\n        user_id: user_id,\n        role: user_data.role\n      });\n    };\n\n    this.handleNotificationRedirect = val => {\n      switch (val) {\n        case 'approve_business_verify':\n          this.props.history.push('business-verification');\n          break;\n\n        case 'order':\n          this.props.history.push('orders');\n          break;\n\n        case 'business_verify':\n          this.props.history.push('notification');\n          break;\n\n        default: // code block\n\n      }\n    };\n\n    this.state = {\n      notifications: []\n    };\n  }\n\n  async componentDidMount() {// if(user_data != undefined && user_data != null && user_data != \"\") {\n    //   const res = await axios.post(`${baseUrl}/seller-notifications`, { seller_id: user_id, role: user_data.role });\n    //   let notifications =  res.data.notifications;\n    //   this.setState({\n    //     notifications: notifications\n    //   });\n    // }\n  }\n\n  render() {\n    const {\n      global\n    } = this.props;\n    const role = localStorage.getItem(\"role\");\n    const userData = localStorage.getItem(\"user\");\n    let user = JSON.parse(userData);\n    const toggle = global.toggleval;\n    const menu = /*#__PURE__*/React.createElement(Menu, {\n      theme: 'light',\n      onClick: this.onMenuClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Menu.Item, {\n      key: \"setting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"bold\",\n        textTransform: \"capitalize\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, user.username))), /*#__PURE__*/React.createElement(Menu.Item, {\n      key: \"account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(UserOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }), \" Account\")), /*#__PURE__*/React.createElement(Menu.Item, {\n      key: \"setting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/setting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SettingOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }), \" Setting\")), /*#__PURE__*/React.createElement(Menu.Item, {\n      key: \"logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(LogoutOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }), \" Logout\")));\n    let notificationDropdown = this.state.notifications.length > 0 ? /*#__PURE__*/React.createElement(Menu, {\n      onClick: this.onMenuClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, this.state.notifications.map((item, key) => {\n      return /*#__PURE__*/React.createElement(Menu.Item, {\n        key: \"setting\",\n        style: {\n          width: '400px'\n        },\n        onClick: () => this.handleNotificationRedirect(item.notification_type),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }\n      }, item.message);\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      style: {\n        marginLeft: '10px'\n      },\n      onClick: this.clearAllNotifications,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, \" Clear Notifications \")) : \"\";\n    return /*#__PURE__*/React.createElement(Row, {\n      style: {\n        color: \"#fff\",\n        height: 61\n      },\n      type: \"flex\",\n      justify: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 16,\n      className: \"logoDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MenuOutlined, {\n      className: \"togglemenu\",\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerlogo innerlogo_res\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        fontSize: 32,\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Logo,\n      style: {\n        height: \"40px\",\n        marginTop: '10px',\n        width: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mobile_invisiable \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, \" vivaquad\"))))), /*#__PURE__*/React.createElement(Col, {\n      span: 7,\n      className: \"topmenu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      className: \"headtoplink\",\n      mode: \"horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Menu.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      overlay: notificationDropdown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"ant-dropdown-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"notification-icon right\",\n      style: {\n        marginTop: 3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(BellOutlined, {\n      style: {\n        fontSize: 16,\n        marginRight: \"-10px\",\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: '12px',\n        position: 'relative',\n        color: \"black\",\n        top: \"-10px\",\n        left: \"-2px\",\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }, this.state.notifications.length ? this.state.notifications.length : \"0\"))))), /*#__PURE__*/React.createElement(Menu.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      overlay: menu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"ant-dropdown-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      style: {\n        color: \"#bf3427\",\n        backgroundColor: \"#fff\"\n      },\n      icon: /*#__PURE__*/React.createElement(UserOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    })))))));\n  }\n\n}\n\nexport default withRouter(connect(_ref => {\n  let {\n    auth,\n    global,\n    loading\n  } = _ref;\n  return {\n    auth,\n    global,\n    loading\n  };\n})(AppHeader));","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/components/AppHeader/AppHeader.js"],"names":["React","Component","Redirect","connect","Row","Col","Menu","Avatar","Dropdown","Modal","Logo","LogoutOutlined","SettingOutlined","MenuOutlined","UserOutlined","BellOutlined","Link","withRouter","axios","baseUrl","process","env","REACT_APP_ApiUrl","user_data","JSON","parse","localStorage","getItem","user_id","undefined","_id","AppHeader","constructor","props","onMenuClick","val","key","dispatch","type","clear","toggle","clearAllNotifications","setState","notifications","alert","res","post","role","handleNotificationRedirect","history","push","state","componentDidMount","render","global","userData","user","toggleval","menu","fontWeight","textTransform","username","notificationDropdown","length","map","item","width","notification_type","message","marginLeft","color","height","fontSize","margin","marginTop","marginRight","position","top","left","backgroundColor","auth","loading"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"dva\";\r\nimport { Row, Col, Menu, Avatar, Dropdown, Modal } from \"antd\";\r\nimport Logo from '../../assets/img/logo.png';\r\n\r\n\r\nimport {\r\n  LogoutOutlined,\r\n  SettingOutlined,\r\n  MenuOutlined,\r\n  UserOutlined,\r\n  BellOutlined,\r\n} from \"@ant-design/icons\";\r\nimport \"./AppHeader.less\";\r\nimport { Link ,withRouter } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n// import VerifiedImg from '../../images/ver.png'\r\n\r\n\r\n\r\nconst baseUrl = process.env.REACT_APP_ApiUrl;\r\n\r\nlet user_data = JSON.parse(localStorage.getItem('user'));\r\nlet user_id; \r\nif(user_data != undefined && user_data != \"\" && user_data != null) {\r\n  user_id = user_data._id;\r\n}\r\n\r\n\r\n\r\nclass AppHeader extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      notifications: [],\r\n    }\r\n\r\n   \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  onMenuClick = (val) => {\r\n    if (val.key === \"logout\") {\r\n      this.props.dispatch({ type: \"auth/logoutApp\" });\r\n      //localStorage.removeItem('token');\r\n      localStorage.clear();\r\n      return <Redirect exact to=\"/login\" />;\r\n    }\r\n  };\r\n  toggle = () => this.props.dispatch({ type: \"global/toggle\" });\r\n\r\n  \r\n\r\n\r\n\r\n  async componentDidMount() {\r\n\r\n    \r\n\r\n    // if(user_data != undefined && user_data != null && user_data != \"\") {\r\n    //   const res = await axios.post(`${baseUrl}/seller-notifications`, { seller_id: user_id, role: user_data.role });\r\n    //   let notifications =  res.data.notifications;\r\n    //   this.setState({\r\n    //     notifications: notifications\r\n    //   });\r\n\r\n    // }\r\n  }\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n    clearAllNotifications = async () =>  {\r\n      this.setState({\r\n        notifications: \"\"\r\n      });\r\n      alert('Notification cleared successfully');\r\n\r\n      const res = await axios.post(`${baseUrl}/all/messages/mark-as-read`, { user_id: user_id, role: user_data.role });\r\n     \r\n    }\r\n\r\n    handleNotificationRedirect = (val) => {\r\n     \r\n      switch(val) {\r\n        case 'approve_business_verify':\r\n          this.props.history.push('business-verification');\r\n          break;\r\n        case 'order':\r\n          this.props.history.push('orders');\r\n          break;\r\n        case 'business_verify':\r\n          this.props.history.push('notification');\r\n          break;\r\n\r\n        default:\r\n          // code block\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n  render() {\r\n    const { global } = this.props;\r\n    const role = localStorage.getItem(\"role\");\r\n    const userData = localStorage.getItem(\"user\");\r\n    let user = JSON.parse(userData);\r\n   \r\n    const toggle = global.toggleval;\r\n    const menu = (\r\n      <Menu theme={'light'} onClick={this.onMenuClick}>\r\n        <Menu.Item key=\"setting\">\r\n          <center>\r\n            <span style={{ fontWeight: \"bold\", textTransform: \"capitalize\" }}>\r\n              \r\n              {/* {user.isBussinessVerified ? <img src={VerifiedImg} style={{ height: \"14px\", width: \"14px\", marginTop: \"-4px\", marginRight: \"5px\" }} />  : \"\"} */}\r\n              {user.username} \r\n            </span>\r\n          </center>\r\n        </Menu.Item>\r\n        {/* {role === \"ADMIN\" && ( */} \r\n          <Menu.Item key=\"account\">\r\n            <Link to=\"/account\">\r\n              <UserOutlined /> Account \r\n            </Link>\r\n          </Menu.Item>\r\n        {/* )} */}\r\n        <Menu.Item key=\"setting\">\r\n          <Link to=\"/setting\">\r\n            <SettingOutlined /> Setting\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"logout\">\r\n          <Link to=\"/\">\r\n            <LogoutOutlined /> Logout\r\n          </Link>\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n\r\n    let notificationDropdown = (\r\n\r\n      this.state.notifications.length > 0 \r\n      ?\r\n      <Menu onClick={this.onMenuClick} >\r\n          {this.state.notifications.map((item, key) => {\r\n            return (\r\n              <Menu.Item key=\"setting\" style={{ width: '400px' }} onClick={()=>this.handleNotificationRedirect(item.notification_type)}>\r\n                  {item.message}\r\n              </Menu.Item>  \r\n            )  \r\n          })}\r\n\r\n          <a href=\"javascript:void(0)\" style={{ marginLeft: '10px' }} onClick={ this.clearAllNotifications } > Clear Notifications </a>\r\n        </Menu>\r\n\r\n        : \"\"\r\n      );\r\n\r\n    return (\r\n      <Row\r\n        style={{ color: \"#fff\", height: 61 }}\r\n        type=\"flex\"\r\n        justify=\"space-between\"\r\n      >\r\n        <Col span={16} className=\"logoDiv\">\r\n          {/*<Icon className=\"togglemenu\" onClick={this.toggle} type={toggle?\"menu-unfold\":\"menu-fold\"} theme=\"outlined\" />*/}\r\n          <MenuOutlined className=\"togglemenu\" onClick={this.toggle} />\r\n          <div className=\"innerlogo innerlogo_res\">\r\n            <h3 style={{ fontSize: 32, margin: 0 }}>\r\n            <Link to=\"/\">\r\n              <img src={Logo} style={{ height: \"40px\", marginTop: '10px',  width: \"50px\" }} />\r\n              <span className=\"mobile_invisiable \" > vivaquad</span>\r\n             </Link>\r\n              \r\n            </h3>\r\n          </div> \r\n        </Col>\r\n        <Col span={7} className=\"topmenu\">\r\n          <Menu className=\"headtoplink\" mode=\"horizontal\">\r\n            <Menu.Item>\r\n                <Dropdown overlay={notificationDropdown}>\r\n                  <a className=\"ant-dropdown-link\" >\r\n                    <div class=\"notification-icon right\" style={{ marginTop: 3 }}>\r\n                      <BellOutlined style={{ fontSize: 16, marginRight: \"-10px\", color: 'black' }} />\r\n                      <span style={{ fontSize: '12px', position: 'relative', color: \"black\", top: \"-10px\", left: \"-2px\", fontWeight: \"bold\" }}>{ this.state.notifications.length ? this.state.notifications.length : \"0\"  }</span>\r\n                    </div>\r\n                  </a>\r\n                  {/* <a href=\"#\">\r\n                    Clear Notifications\r\n                  </a> */}\r\n                </Dropdown>\r\n\r\n            </Menu.Item>\r\n\r\n            <Menu.Item>\r\n              <Dropdown overlay={menu}>\r\n                <a className=\"ant-dropdown-link\">\r\n                  <Avatar\r\n                    style={{ color: \"#bf3427\", backgroundColor: \"#fff\" }}\r\n                    icon={<UserOutlined />}\r\n                  />\r\n                </a>\r\n              </Dropdown>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Col>\r\n\r\n\r\n\r\n      </Row>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(connect(({ auth, global, loading }) => ({\r\n  auth,\r\n  global,\r\n  loading,\r\n}))(AppHeader));\r\n"]},"metadata":{},"sourceType":"module"}