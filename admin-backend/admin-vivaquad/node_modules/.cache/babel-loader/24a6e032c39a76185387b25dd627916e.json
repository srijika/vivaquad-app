{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _createHashHistory = _interopRequireDefault(require(\"history/createHashHistory\"));\n\nvar _reactRouterRedux = require(\"react-router-redux\");\n\nvar _document = _interopRequireDefault(require(\"global/document\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar core = _interopRequireWildcard(require(\"dva-core\"));\n\nvar _utils = require(\"dva-core/lib/utils\");\n\nfunction _default() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var history = opts.history || (0, _createHashHistory.default)();\n  var createOpts = {\n    initialReducer: {\n      routing: _reactRouterRedux.routerReducer\n    },\n    setupMiddlewares: function setupMiddlewares(middlewares) {\n      return [(0, _reactRouterRedux.routerMiddleware)(history)].concat((0, _toConsumableArray2.default)(middlewares));\n    },\n    setupApp: function setupApp(app) {\n      app._history = patchHistory(history);\n    }\n  };\n  var app = core.create(opts, createOpts);\n  var oldAppStart = app.start;\n  app.router = router;\n  app.start = start;\n  return app;\n\n  function router(router) {\n    (0, _invariant.default)((0, _utils.isFunction)(router), \"[app.router] router should be function, but got \".concat((0, _typeof2.default)(router)));\n    app._router = router;\n  }\n\n  function start(container) {\n    // 允许 container 是字符串，然后用 querySelector 找元素\n    if (isString(container)) {\n      container = _document.default.querySelector(container);\n      (0, _invariant.default)(container, \"[app.start] container \".concat(container, \" not found\"));\n    } // 并且是 HTMLElement\n\n\n    (0, _invariant.default)(!container || isHTMLElement(container), \"[app.start] container should be HTMLElement\"); // 路由必须提前注册\n\n    (0, _invariant.default)(app._router, \"[app.start] router must be registered before app.start()\");\n\n    if (!app._store) {\n      oldAppStart.call(app);\n    }\n\n    var store = app._store; // export _getProvider for HMR\n    // ref: https://github.com/dvajs/dva/issues/469\n\n    app._getProvider = getProvider.bind(null, store, app); // If has container, render; else, return react component\n\n    if (container) {\n      render(container, store, app, app._router);\n\n      app._plugin.apply('onHmr')(render.bind(null, container, store, app));\n    } else {\n      return getProvider(store, this, this._router);\n    }\n  }\n}\n\nfunction isHTMLElement(node) {\n  return (0, _typeof2.default)(node) === 'object' && node !== null && node.nodeType && node.nodeName;\n}\n\nfunction isString(str) {\n  return typeof str === 'string';\n}\n\nfunction getProvider(store, app, router) {\n  var DvaRoot = function DvaRoot(extraProps) {\n    return _react.default.createElement(_reactRedux.Provider, {\n      store: store\n    }, router((0, _objectSpread2.default)({\n      app: app,\n      history: app._history\n    }, extraProps)));\n  };\n\n  return DvaRoot;\n}\n\nfunction render(container, store, app, router) {\n  var ReactDOM = require('react-dom'); // eslint-disable-line\n\n\n  ReactDOM.render(_react.default.createElement(getProvider(store, app, router)), container);\n}\n\nfunction patchHistory(history) {\n  var oldListen = history.listen;\n\n  history.listen = function (callback) {\n    callback(history.location);\n    return oldListen.call(history, callback);\n  };\n\n  return history;\n}","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/node_modules/dva/lib/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_default","_objectSpread2","_typeof2","_toConsumableArray2","_react","_invariant","_createHashHistory","_reactRouterRedux","_document","_reactRedux","core","_utils","opts","arguments","length","undefined","history","createOpts","initialReducer","routing","routerReducer","setupMiddlewares","middlewares","routerMiddleware","concat","setupApp","app","_history","patchHistory","create","oldAppStart","start","router","isFunction","_router","container","isString","querySelector","isHTMLElement","_store","call","store","_getProvider","getProvider","bind","render","_plugin","apply","node","nodeType","nodeName","str","DvaRoot","extraProps","createElement","Provider","ReactDOM","oldListen","listen","callback","location"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,QAAlB;;AAEA,IAAIC,cAAc,GAAGP,sBAAsB,CAACD,OAAO,CAAC,qCAAD,CAAR,CAA3C;;AAEA,IAAIS,QAAQ,GAAGR,sBAAsB,CAACD,OAAO,CAAC,+BAAD,CAAR,CAArC;;AAEA,IAAIU,mBAAmB,GAAGT,sBAAsB,CAACD,OAAO,CAAC,0CAAD,CAAR,CAAhD;;AAEA,IAAIW,MAAM,GAAGV,sBAAsB,CAACD,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIY,UAAU,GAAGX,sBAAsB,CAACD,OAAO,CAAC,WAAD,CAAR,CAAvC;;AAEA,IAAIa,kBAAkB,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,2BAAD,CAAR,CAA/C;;AAEA,IAAIc,iBAAiB,GAAGd,OAAO,CAAC,oBAAD,CAA/B;;AAEA,IAAIe,SAAS,GAAGd,sBAAsB,CAACD,OAAO,CAAC,iBAAD,CAAR,CAAtC;;AAEA,IAAIgB,WAAW,GAAGhB,OAAO,CAAC,aAAD,CAAzB;;AAEA,IAAIiB,IAAI,GAAGlB,uBAAuB,CAACC,OAAO,CAAC,UAAD,CAAR,CAAlC;;AAEA,IAAIkB,MAAM,GAAGlB,OAAO,CAAC,oBAAD,CAApB;;AAEA,SAASO,QAAT,GAAoB;AAClB,MAAIY,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AACA,MAAIG,OAAO,GAAGJ,IAAI,CAACI,OAAL,IAAgB,CAAC,GAAGV,kBAAkB,CAACP,OAAvB,GAA9B;AACA,MAAIkB,UAAU,GAAG;AACfC,IAAAA,cAAc,EAAE;AACdC,MAAAA,OAAO,EAAEZ,iBAAiB,CAACa;AADb,KADD;AAIfC,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BC,WAA1B,EAAuC;AACvD,aAAO,CAAC,CAAC,GAAGf,iBAAiB,CAACgB,gBAAtB,EAAwCP,OAAxC,CAAD,EAAmDQ,MAAnD,CAA0D,CAAC,GAAGrB,mBAAmB,CAACJ,OAAxB,EAAiCuB,WAAjC,CAA1D,CAAP;AACD,KANc;AAOfG,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AAC/BA,MAAAA,GAAG,CAACC,QAAJ,GAAeC,YAAY,CAACZ,OAAD,CAA3B;AACD;AATc,GAAjB;AAWA,MAAIU,GAAG,GAAGhB,IAAI,CAACmB,MAAL,CAAYjB,IAAZ,EAAkBK,UAAlB,CAAV;AACA,MAAIa,WAAW,GAAGJ,GAAG,CAACK,KAAtB;AACAL,EAAAA,GAAG,CAACM,MAAJ,GAAaA,MAAb;AACAN,EAAAA,GAAG,CAACK,KAAJ,GAAYA,KAAZ;AACA,SAAOL,GAAP;;AAEA,WAASM,MAAT,CAAgBA,MAAhB,EAAwB;AACtB,KAAC,GAAG3B,UAAU,CAACN,OAAf,EAAwB,CAAC,GAAGY,MAAM,CAACsB,UAAX,EAAuBD,MAAvB,CAAxB,EAAwD,mDAAmDR,MAAnD,CAA0D,CAAC,GAAGtB,QAAQ,CAACH,OAAb,EAAsBiC,MAAtB,CAA1D,CAAxD;AACAN,IAAAA,GAAG,CAACQ,OAAJ,GAAcF,MAAd;AACD;;AAED,WAASD,KAAT,CAAeI,SAAf,EAA0B;AACxB;AACA,QAAIC,QAAQ,CAACD,SAAD,CAAZ,EAAyB;AACvBA,MAAAA,SAAS,GAAG3B,SAAS,CAACT,OAAV,CAAkBsC,aAAlB,CAAgCF,SAAhC,CAAZ;AACA,OAAC,GAAG9B,UAAU,CAACN,OAAf,EAAwBoC,SAAxB,EAAmC,yBAAyBX,MAAzB,CAAgCW,SAAhC,EAA2C,YAA3C,CAAnC;AACD,KALuB,CAKtB;;;AAGF,KAAC,GAAG9B,UAAU,CAACN,OAAf,EAAwB,CAACoC,SAAD,IAAcG,aAAa,CAACH,SAAD,CAAnD,EAAgE,6CAAhE,EARwB,CAQwF;;AAEhH,KAAC,GAAG9B,UAAU,CAACN,OAAf,EAAwB2B,GAAG,CAACQ,OAA5B,EAAqC,0DAArC;;AAEA,QAAI,CAACR,GAAG,CAACa,MAAT,EAAiB;AACfT,MAAAA,WAAW,CAACU,IAAZ,CAAiBd,GAAjB;AACD;;AAED,QAAIe,KAAK,GAAGf,GAAG,CAACa,MAAhB,CAhBwB,CAgBA;AACxB;;AAEAb,IAAAA,GAAG,CAACgB,YAAJ,GAAmBC,WAAW,CAACC,IAAZ,CAAiB,IAAjB,EAAuBH,KAAvB,EAA8Bf,GAA9B,CAAnB,CAnBwB,CAmB+B;;AAEvD,QAAIS,SAAJ,EAAe;AACbU,MAAAA,MAAM,CAACV,SAAD,EAAYM,KAAZ,EAAmBf,GAAnB,EAAwBA,GAAG,CAACQ,OAA5B,CAAN;;AAEAR,MAAAA,GAAG,CAACoB,OAAJ,CAAYC,KAAZ,CAAkB,OAAlB,EAA2BF,MAAM,CAACD,IAAP,CAAY,IAAZ,EAAkBT,SAAlB,EAA6BM,KAA7B,EAAoCf,GAApC,CAA3B;AACD,KAJD,MAIO;AACL,aAAOiB,WAAW,CAACF,KAAD,EAAQ,IAAR,EAAc,KAAKP,OAAnB,CAAlB;AACD;AACF;AACF;;AAED,SAASI,aAAT,CAAuBU,IAAvB,EAA6B;AAC3B,SAAO,CAAC,GAAG9C,QAAQ,CAACH,OAAb,EAAsBiD,IAAtB,MAAgC,QAAhC,IAA4CA,IAAI,KAAK,IAArD,IAA6DA,IAAI,CAACC,QAAlE,IAA8ED,IAAI,CAACE,QAA1F;AACD;;AAED,SAASd,QAAT,CAAkBe,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AAED,SAASR,WAAT,CAAqBF,KAArB,EAA4Bf,GAA5B,EAAiCM,MAAjC,EAAyC;AACvC,MAAIoB,OAAO,GAAG,SAASA,OAAT,CAAiBC,UAAjB,EAA6B;AACzC,WAAOjD,MAAM,CAACL,OAAP,CAAeuD,aAAf,CAA6B7C,WAAW,CAAC8C,QAAzC,EAAmD;AACxDd,MAAAA,KAAK,EAAEA;AADiD,KAAnD,EAEJT,MAAM,CAAC,CAAC,GAAG/B,cAAc,CAACF,OAAnB,EAA4B;AACpC2B,MAAAA,GAAG,EAAEA,GAD+B;AAEpCV,MAAAA,OAAO,EAAEU,GAAG,CAACC;AAFuB,KAA5B,EAGP0B,UAHO,CAAD,CAFF,CAAP;AAMD,GAPD;;AASA,SAAOD,OAAP;AACD;;AAED,SAASP,MAAT,CAAgBV,SAAhB,EAA2BM,KAA3B,EAAkCf,GAAlC,EAAuCM,MAAvC,EAA+C;AAC7C,MAAIwB,QAAQ,GAAG/D,OAAO,CAAC,WAAD,CAAtB,CAD6C,CACR;;;AAGrC+D,EAAAA,QAAQ,CAACX,MAAT,CAAgBzC,MAAM,CAACL,OAAP,CAAeuD,aAAf,CAA6BX,WAAW,CAACF,KAAD,EAAQf,GAAR,EAAaM,MAAb,CAAxC,CAAhB,EAA+EG,SAA/E;AACD;;AAED,SAASP,YAAT,CAAsBZ,OAAtB,EAA+B;AAC7B,MAAIyC,SAAS,GAAGzC,OAAO,CAAC0C,MAAxB;;AAEA1C,EAAAA,OAAO,CAAC0C,MAAR,GAAiB,UAAUC,QAAV,EAAoB;AACnCA,IAAAA,QAAQ,CAAC3C,OAAO,CAAC4C,QAAT,CAAR;AACA,WAAOH,SAAS,CAACjB,IAAV,CAAexB,OAAf,EAAwB2C,QAAxB,CAAP;AACD,GAHD;;AAKA,SAAO3C,OAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _createHashHistory = _interopRequireDefault(require(\"history/createHashHistory\"));\n\nvar _reactRouterRedux = require(\"react-router-redux\");\n\nvar _document = _interopRequireDefault(require(\"global/document\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar core = _interopRequireWildcard(require(\"dva-core\"));\n\nvar _utils = require(\"dva-core/lib/utils\");\n\nfunction _default() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var history = opts.history || (0, _createHashHistory.default)();\n  var createOpts = {\n    initialReducer: {\n      routing: _reactRouterRedux.routerReducer\n    },\n    setupMiddlewares: function setupMiddlewares(middlewares) {\n      return [(0, _reactRouterRedux.routerMiddleware)(history)].concat((0, _toConsumableArray2.default)(middlewares));\n    },\n    setupApp: function setupApp(app) {\n      app._history = patchHistory(history);\n    }\n  };\n  var app = core.create(opts, createOpts);\n  var oldAppStart = app.start;\n  app.router = router;\n  app.start = start;\n  return app;\n\n  function router(router) {\n    (0, _invariant.default)((0, _utils.isFunction)(router), \"[app.router] router should be function, but got \".concat((0, _typeof2.default)(router)));\n    app._router = router;\n  }\n\n  function start(container) {\n    // 允许 container 是字符串，然后用 querySelector 找元素\n    if (isString(container)) {\n      container = _document.default.querySelector(container);\n      (0, _invariant.default)(container, \"[app.start] container \".concat(container, \" not found\"));\n    } // 并且是 HTMLElement\n\n\n    (0, _invariant.default)(!container || isHTMLElement(container), \"[app.start] container should be HTMLElement\"); // 路由必须提前注册\n\n    (0, _invariant.default)(app._router, \"[app.start] router must be registered before app.start()\");\n\n    if (!app._store) {\n      oldAppStart.call(app);\n    }\n\n    var store = app._store; // export _getProvider for HMR\n    // ref: https://github.com/dvajs/dva/issues/469\n\n    app._getProvider = getProvider.bind(null, store, app); // If has container, render; else, return react component\n\n    if (container) {\n      render(container, store, app, app._router);\n\n      app._plugin.apply('onHmr')(render.bind(null, container, store, app));\n    } else {\n      return getProvider(store, this, this._router);\n    }\n  }\n}\n\nfunction isHTMLElement(node) {\n  return (0, _typeof2.default)(node) === 'object' && node !== null && node.nodeType && node.nodeName;\n}\n\nfunction isString(str) {\n  return typeof str === 'string';\n}\n\nfunction getProvider(store, app, router) {\n  var DvaRoot = function DvaRoot(extraProps) {\n    return _react.default.createElement(_reactRedux.Provider, {\n      store: store\n    }, router((0, _objectSpread2.default)({\n      app: app,\n      history: app._history\n    }, extraProps)));\n  };\n\n  return DvaRoot;\n}\n\nfunction render(container, store, app, router) {\n  var ReactDOM = require('react-dom'); // eslint-disable-line\n\n\n  ReactDOM.render(_react.default.createElement(getProvider(store, app, router)), container);\n}\n\nfunction patchHistory(history) {\n  var oldListen = history.listen;\n\n  history.listen = function (callback) {\n    callback(history.location);\n    return oldListen.call(history, callback);\n  };\n\n  return history;\n}"]},"metadata":{},"sourceType":"script"}