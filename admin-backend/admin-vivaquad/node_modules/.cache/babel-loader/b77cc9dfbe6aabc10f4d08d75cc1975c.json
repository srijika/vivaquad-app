{"ast":null,"code":"var _jsxFileName = \"/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/reset.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Apploader from './../../components/loader/loader';\nimport { connect } from 'dva';\nimport { Row, Col, Form, Input, Button, Divider, Checkbox, message, Modal } from 'antd';\nimport { UserOutlined, LockOutlined, EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\n\nconst AppReset = props => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handelPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const onFinish = values => {\n    const email = localStorage.getItem('user_email');\n    let val = {};\n\n    if (validateEmail(email)) {\n      val = {\n        username: email,\n        password: values.password,\n        otpchk: values.otp\n      };\n      props.dispatch({\n        type: 'auth/resetPassword',\n        payload: val\n      });\n    }\n  };\n\n  const validateEmail = email => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  useEffect(() => {\n    let unmounted = false;\n    let resetPassword = props.auth.resetPassword;\n\n    if (!unmounted && resetPassword && resetPassword.status) {\n      props.dispatch({\n        type: 'auth/resetPasswordSuccessDone'\n      });\n      props.history.push('/login');\n    }\n\n    return () => {\n      unmounted = true;\n    };\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Apploader, {\n    show: props.loading.global,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    type: \"flex\",\n    className: \"basicpage\",\n    justify: \"space-around\",\n    align: \"middle\",\n    style: {\n      minHeight: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"basicbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainimg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      fontSize: '18px',\n      fontWeight: '600'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 8\n    }\n  }, \"Reset Password\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    name: \"otp\",\n    className: \"login-form\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: 'Please input your Password!'\n    }, {\n      pattern: /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n      message: 'Minimum eight characters, at least one letter, one number and one special character:'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 24\n      }\n    }),\n    type: showPassword ? 'text' : 'password',\n    placeholder: \"New Password\",\n    suffix: showPassword ? /*#__PURE__*/React.createElement(EyeTwoTone, {\n      onClick: handelPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 34\n      }\n    }) : /*#__PURE__*/React.createElement(EyeInvisibleOutlined, {\n      onClick: handelPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 78\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"otp\",\n    rules: [{\n      required: true,\n      message: 'Please input your Otp!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }),\n    placeholder: \"OTP Enter Here!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 10\n    }\n  }, \" Save \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"#3e1c08\"\n    },\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Back\"))))));\n};\n\nexport default connect(_ref => {\n  let {\n    auth,\n    loading\n  } = _ref;\n  return {\n    auth,\n    loading\n  };\n})(AppReset);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/reset.js"],"names":["React","useState","useEffect","Redirect","Link","Apploader","connect","Row","Col","Form","Input","Button","Divider","Checkbox","message","Modal","UserOutlined","LockOutlined","EyeInvisibleOutlined","EyeTwoTone","AppReset","props","showPassword","setShowPassword","handelPassword","onFinish","values","email","localStorage","getItem","val","validateEmail","username","password","otpchk","otp","dispatch","type","payload","re","test","unmounted","resetPassword","auth","status","history","push","loading","global","minHeight","textAlign","fontSize","fontWeight","remember","required","pattern","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport Apploader from './../../components/loader/loader'\r\nimport { connect } from 'dva';\r\nimport { Row, Col, Form, Input, Button, Divider, Checkbox, message, Modal } from 'antd';\r\nimport { UserOutlined, LockOutlined, EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\n\r\n\r\nconst AppReset = (props) => {\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\tconst  handelPassword = () => {\r\n\t\tsetShowPassword(!showPassword);\r\n\t\t\r\n\t}\r\n    const onFinish = values => {\t\t\r\n        const email = localStorage.getItem('user_email');\r\n        let val = {};\r\n        if(validateEmail(email)){ \r\n            val = { username: email, password: values.password, otpchk: values.otp };\r\n\t\t\tprops.dispatch({ type: 'auth/resetPassword', payload: val });\r\n        }\r\n\t  };\r\n\r\n    const validateEmail = (email) =>{\r\n      var re = /\\S+@\\S+\\.\\S+/;\r\n      return re.test(email);\r\n  }\r\n\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\tlet resetPassword = props.auth.resetPassword;\r\n\t\tif(!unmounted && resetPassword && resetPassword.status){\r\n\t\t\t\r\n\t\t\tprops.dispatch({ type: 'auth/resetPasswordSuccessDone' });\r\n\t\t\tprops.history.push('/login');\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tunmounted = true;\r\n\t\t}\r\n\t},[props])\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Apploader show={props.loading.global} />\r\n\t\t\t\t<Row type=\"flex\" className={\"basicpage\"} justify=\"space-around\" align=\"middle\" style={{ minHeight: '100vh' }}>\r\n\t\t\t\t\t<Col className=\"basicbox\">\r\n\t\t\t\t\t\t<div className=\"mainimg\"></div>\r\n\t\t\t\t\t\t<div className=\"mainform\">\r\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', fontSize: '18px', fontWeight: '600' }}>\r\n\t\t\t\t\t\t\t\tReset Password\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Divider />\r\n\r\n\r\n\t\t\t\t\t\t\t<Form name=\"otp\" className=\"login-form\" initialValues={{ remember: true, }} onFinish={onFinish} >\r\n\t\t\t\t\t\t\t<Form.Item name=\"password\" rules={[ \r\n\t\t\t\t\t\t\t\t\t{ \t\r\n\t\t\t\t\t\t\t\t\t\trequired: true, \r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Please input your Password!', \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpattern: /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Minimum eight characters, at least one letter, one number and one special character:'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t\t\t<Input prefix={<LockOutlined className=\"site-form-item-icon\" />} \r\n\t\t\t\t\t\t\t\ttype={showPassword ? 'text': 'password'}\r\n\t\t\t\t\t\t\t\tplaceholder=\"New Password\" \r\n\t\t\t\t\t\t\t\tsuffix = {showPassword ? <EyeTwoTone onClick={ handelPassword } /> : <EyeInvisibleOutlined onClick={ handelPassword } /> }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"otp\" rules={[{ required: true, message: 'Please input your Otp!', },]} >\r\n\t\t\t\t\t\t\t\t\t<Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"OTP Enter Here!\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\"  htmlType=\"submit\" className=\"login-form-button\"> Save </Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t <Link   style={{ color: \"#3e1c08\"  }} to={\"/login\"}>Back</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t\r\n}\r\n\r\nexport default connect(({ auth, loading }) => ({\r\n\tauth, loading\r\n}))(AppReset);"]},"metadata":{},"sourceType":"module"}