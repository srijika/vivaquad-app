{"ast":null,"code":"import _objectDestructuringEmpty from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import _regeneratorRuntime from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,Fragment}from'react';import{Empty,Modal,Form,Input,Button,Switch,Upload,Dropdown,Menu,Select,notification,Transfer,DatePicker}from'antd';import{connect}from'dva';import axios from'axios';var formItemLayout={labelCol:{xs:{span:24},sm:{span:24}}};var baseUrl=process.env.REACT_APP_ApiUrl;var AddEdit=function AddEdit(props){var _props$detail,_props$detail2,_props$detail3;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var dispatch=props.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),catlist=_useState2[0],setCatlist=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),dcount=_useState6[0],setDCount=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),btnDis=_useState8[0],setBtnDis=_useState8[1];useEffect(function(){var unmounted=false;return function(){unmounted=true;};},[dispatch]);useEffect(function(){var unmounted=false;var data=props.detail;if(props.detail){var _form$setFieldsValue;form.setFieldsValue((_form$setFieldsValue={},_defineProperty(_form$setFieldsValue,'option',data.option),_defineProperty(_form$setFieldsValue,'value',data.value),_form$setFieldsValue));}else{form.resetFields();}return function(){unmounted=true;};},[props.visible]);var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(val){var res,_res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setBtnDis(true);if(!props.detail){_context.next=9;break;}val.id=props.detail._id;_context.next=5;return axios.post(\"\".concat(baseUrl,\"/api/update/\").concat(val.id,\"/setting\"),val);case 5:res=_context.sent;props.returnData(val);_context.next=13;break;case 9:_context.next=11;return axios.post(\"\".concat(baseUrl,\"/api/create/setting\"),val);case 11:_res=_context.sent;props.returnData(val);case 13:setBtnDis(false);case 14:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();var cancelFun=function cancelFun(){if(!props.detail)form.resetFields();props.closeModel();};//onOk={()=>form.submit()} onCancel={()=>setPicModel(false)}\nreturn/*#__PURE__*/React.createElement(Modal,{visible:props.visible,title:props.detail?'Edit Setting':'Add Setting',onCancel:cancelFun,footer:/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Button,{onClick:cancelFun},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{type:\"primary\",disabled:btnDis,className:\"btn-w25 btn-primary-light\",onClick:function onClick(){return form.submit();}},props.detail?'Edit Setting':'Add Setting'))},/*#__PURE__*/React.createElement(Form,Object.assign({},formItemLayout,{form:form,name:\"loc_info\",layout:\"vertical\",onFinish:onFinish,className:\"innerFields\"}),/*#__PURE__*/React.createElement(Form.Item,{name:\"option\",rules:[{required:true,message:'This field is required!'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Option\",disabled:props.detail?true:false})),(props===null||props===void 0?void 0:(_props$detail=props.detail)===null||_props$detail===void 0?void 0:_props$detail.option)===\"PUBLIC_WEB_UNDER_MAINTENANCE\"||(props===null||props===void 0?void 0:(_props$detail2=props.detail)===null||_props$detail2===void 0?void 0:_props$detail2.option)===\"SELLER_WEB_UNDER_MAINTENANCE\"?/*#__PURE__*/React.createElement(Form.Item,{name:\"value\"},/*#__PURE__*/React.createElement(Select,{style:{width:\"100%\"},defaultValue:props===null||props===void 0?void 0:(_props$detail3=props.detail)===null||_props$detail3===void 0?void 0:_props$detail3.value},/*#__PURE__*/React.createElement(Select.Option,{value:\"Yes\"},\"Yes\"),/*#__PURE__*/React.createElement(Select.Option,{value:\"No\"},\"No\"))):/*#__PURE__*/React.createElement(Form.Item,{name:\"value\",rules:[{required:true,message:'This field is required!'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Value\"}))));};export default connect(function(_ref2){_objectDestructuringEmpty(_ref2);return{};})(AddEdit);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/site-setting/action/addEdit.jsx"],"names":["React","useState","useEffect","useRef","Fragment","Empty","Modal","Form","Input","Button","Switch","Upload","Dropdown","Menu","Select","notification","Transfer","DatePicker","connect","axios","formItemLayout","labelCol","xs","span","sm","baseUrl","process","env","REACT_APP_ApiUrl","AddEdit","props","useForm","form","dispatch","catlist","setCatlist","count","setCount","dcount","setDCount","btnDis","setBtnDis","unmounted","data","detail","setFieldsValue","option","value","resetFields","visible","onFinish","val","id","_id","post","res","returnData","cancelFun","closeModel","submit","required","message","width"],"mappings":"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","sourcesContent":["import React, { useState,useEffect,useRef, Fragment} from 'react';\r\nimport {Empty, Modal,Form,Input,Button,Switch, Upload, Dropdown, Menu, Select, notification, Transfer, DatePicker } from 'antd';\r\nimport { connect } from 'dva';\r\nimport axios from 'axios';\r\n\r\nconst formItemLayout = { labelCol: {xs: { span: 24, },  sm: { span: 24, },}};\r\nconst baseUrl = process.env.REACT_APP_ApiUrl\r\n\r\n\r\nconst AddEdit =props => {\r\n\tconst [form] = Form.useForm();\r\n\tconst { dispatch} = props;\r\n\tconst [catlist, setCatlist] = useState([])\r\n\tconst [count, setCount] = useState(0)\r\n\tconst [dcount, setDCount] = useState(0)\r\n\tconst [btnDis, setBtnDis] = useState(false)\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\treturn () => {unmounted = true;}\r\n    },[dispatch])\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\r\n\t\tlet data = props.detail;\t\t\r\n\t\tif(props.detail){\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t  ['option']: data.option, \r\n\t\t\t  ['value']: data.value, \r\n\t\t\t});}\r\n\t\telse{ form.resetFields(); }\r\n\t\treturn () => {unmounted = true;}\r\n    },[props.visible])\r\n\t\r\n\t\r\n\tconst onFinish= async (val) =>{\r\n\t\tsetBtnDis(true);\r\n\t\tif(props.detail){\r\n\t\t\tval.id = props.detail._id\r\n\t\t\tlet res =  await axios.post(`${baseUrl}/api/update/${val.id}/setting`, val);\r\n\t\t\tprops.returnData(val);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlet res =  await axios.post(`${baseUrl}/api/create/setting`, val);\r\n\t\t\tprops.returnData(val);\r\n\t\t}\r\n\r\n\t\tsetBtnDis(false);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tconst cancelFun = ()=>{\r\n\t\tif(!props.detail)\r\n\t\t\tform.resetFields();\r\n\t\tprops.closeModel()\r\n\t}\r\n\r\n\t\r\n\t//onOk={()=>form.submit()} onCancel={()=>setPicModel(false)}\r\n\t\r\nreturn (\r\n\t<Modal visible={props.visible} title={props.detail?'Edit Setting':'Add Setting'} onCancel={cancelFun} footer={<Fragment>\r\n\t\t\t\t<Button onClick={cancelFun}>Cancel</Button>\r\n\t\t\t\t<Button type=\"primary\" disabled={btnDis} className=\"btn-w25 btn-primary-light\" onClick={()=>form.submit()}>{props.detail?'Edit Setting':'Add Setting'}</Button>\r\n\t\t\t</Fragment>} >\r\n\r\n\r\n\t\t\t\t<Form {...formItemLayout} form={form} name=\"loc_info\" layout=\"vertical\" onFinish={onFinish} className=\"innerFields\">\r\n\t\t\t\t\t<Form.Item name=\"option\"  rules={[{ required: true, message: 'This field is required!' }]} >\r\n\t\t\t\t\t\t<Input placeholder=\"Option\"  disabled={ props.detail ? true : false } />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops?.detail?.option === \"PUBLIC_WEB_UNDER_MAINTENANCE\" ||  props?.detail?.option === \"SELLER_WEB_UNDER_MAINTENANCE\" \r\n\t\t\t\t\t\t? \r\n\t\t\t\t\t\t<Form.Item name=\"value\" >\t\r\n\t\t\t\t\t\t\t<Select  style={{ width: \"100%\" }} defaultValue={props?.detail?.value} >\r\n\t\t\t\t\t\t\t <Select.Option value=\"Yes\">Yes</Select.Option>\r\n\t\t\t\t\t\t\t <Select.Option value=\"No\">No</Select.Option>\r\n\t\t\t\t\t\t   </Select>\r\n\t\t\t\t\t\t   </Form.Item>\r\n\r\n\r\n\t\t\t\t\t\t: \t\t\r\n\t\t\t\t\t\t<Form.Item name=\"value\"  rules={[{ required: true, message: 'This field is required!' }]} >\r\n\t\t\t\t\t\t\t<Input placeholder=\"Value\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t</Form>\r\n\t\t\r\n\t</Modal>\r\n)};\r\n\r\nexport default connect(({  }) => ({  \r\n}))(AddEdit);"]},"metadata":{},"sourceType":"module"}