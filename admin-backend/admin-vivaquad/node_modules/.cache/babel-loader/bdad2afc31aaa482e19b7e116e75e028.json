{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{approvebussiness,resetpassword,resendOTPTOUser as _resendOTPTOUser,varifyUser as _varifyUser}from'../services/api';import{message}from'antd';export default{namespace:'setting',state:{getBuss:{count:0},update:{count:0},create:{count:0},resetp:{count:0},approve:{count:0},otp:{count:0},verifyotp:{count:0},getSingleBussines:{}},subscriptions:{setup:function setup(_ref){var dispatch=_ref.dispatch,history=_ref.history;}},effects:{approveBuss:/*#__PURE__*/_regeneratorRuntime.mark(function approveBuss(_ref2,_ref3){var payload,call,put,response;return _regeneratorRuntime.wrap(function approveBuss$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref2.payload;call=_ref3.call,put=_ref3.put;_context.next=4;return call(approvebussiness,payload);case 4:response=_context.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}if(response.status){if(payload.isBussinessVerified){message.success('Business successfully approved!',5);}else{message.success('Business successfully rejected!',5);}}_context.next=9;return put(_objectSpread({type:'approve'},response));case 9:case\"end\":return _context.stop();}}},approveBuss);}),changePassword:/*#__PURE__*/_regeneratorRuntime.mark(function changePassword(_ref4,_ref5){var payload,call,put,user,email,val,response;return _regeneratorRuntime.wrap(function changePassword$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref4.payload;call=_ref5.call,put=_ref5.put;user=JSON.parse(localStorage.getItem('user'));email=user.username;val={username:email,password:payload.password,old_password:payload.oldPassword,otpchk:true};_context2.next=7;return call(resetpassword,val);case 7:response=_context2.sent;console.log(payload);if(!response.status){message.error(response.msg||response.message||response.err,5);}if(response.status){message.success(response.msg||response.message,5);}_context2.next=13;return put(_objectSpread({type:'resetp'},response));case 13:case\"end\":return _context2.stop();}}},changePassword);}),resendOTPTOUser:/*#__PURE__*/_regeneratorRuntime.mark(function resendOTPTOUser(_ref6,_ref7){var payload,call,put,response;return _regeneratorRuntime.wrap(function resendOTPTOUser$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref6.payload;call=_ref7.call,put=_ref7.put;_context3.next=4;return call(_resendOTPTOUser,payload);case 4:response=_context3.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}// if(response.status) {message.success(response.msg || response.message, 5);} \n_context3.next=8;return put(_objectSpread({type:'otp'},response));case 8:case\"end\":return _context3.stop();}}},resendOTPTOUser);}),varifyUser:/*#__PURE__*/_regeneratorRuntime.mark(function varifyUser(_ref8,_ref9){var payload,call,put,response;return _regeneratorRuntime.wrap(function varifyUser$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref8.payload;call=_ref9.call,put=_ref9.put;_context4.next=4;return call(_varifyUser,payload);case 4:response=_context4.sent;if(!response.status){message.error(response.msg||response.message||response.err,5);}if(response.status){message.success(response.msg||response.message,5);}_context4.next=9;return put(_objectSpread({type:'verifyotp'},response));case 9:case\"end\":return _context4.stop();}}},varifyUser);}),clearVerifyOTP:/*#__PURE__*/_regeneratorRuntime.mark(function clearVerifyOTP(_ref10,_ref11){var payload,call,put;return _regeneratorRuntime.wrap(function clearVerifyOTP$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref10.payload;call=_ref11.call,put=_ref11.put;_context5.next=4;return put({type:'clearVerifyOTP'});case 4:case\"end\":return _context5.stop();}}},clearVerifyOTP);}),clearAction:/*#__PURE__*/_regeneratorRuntime.mark(function clearAction(_ref12,_ref13){var payload,call,put;return _regeneratorRuntime.wrap(function clearAction$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:payload=_ref12.payload;call=_ref13.call,put=_ref13.put;_context6.next=4;return put({type:'clear'});case 4:case\"end\":return _context6.stop();}}},clearAction);})},reducers:{getBuss:function getBuss(state,action){return _objectSpread(_objectSpread({},state),{},{getBuss:action});},getSellerBussines:function getSellerBussines(state,action){return _objectSpread(_objectSpread({},state),{},{getBuss:action});},getSingleBussines:function getSingleBussines(state,action){return _objectSpread(_objectSpread({},state),{},{getSingleBussines:action});},busslist:function busslist(state,action){return _objectSpread(_objectSpread({},state),{},{busslist:action});},busssellerlist:function busssellerlist(state,action){return _objectSpread(_objectSpread({},state),{},{busssellerlist:action});},create:function create(state,action){action.count=state.create.count+1;return _objectSpread(_objectSpread({},state),{},{create:action});},update:function update(state,action){action.count=state.update.count+1;return _objectSpread(_objectSpread({},state),{},{update:action});},approve:function approve(state,action){action.count=state.approve.count+1;return _objectSpread(_objectSpread({},state),{},{approve:action});},approveReset:function approveReset(state,action){return _objectSpread(_objectSpread({},state),{},{approve:{count:0}});},resetp:function resetp(state,action){action.count=state.resetp.count+1;return _objectSpread(_objectSpread({},state),{},{resetp:action});},otp:function otp(state,action){return _objectSpread(_objectSpread({},state),{},{otp:action});},verifyotp:function verifyotp(state,action){return _objectSpread(_objectSpread({},state),{},{verifyotp:action});},clearVerifyOTP:function clearVerifyOTP(state,action){return _objectSpread(_objectSpread({},state),{},{verifyotp:{count:0}});},clear:function clear(state,action){return _objectSpread(_objectSpread({},state),{},{create:{count:0},approve:{count:0},update:{count:0},resetp:{count:0},otp:{count:0},verifyotp:{count:0}});}}};","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/models/setting.js"],"names":["approvebussiness","resetpassword","resendOTPTOUser","varifyUser","message","namespace","state","getBuss","count","update","create","resetp","approve","otp","verifyotp","getSingleBussines","subscriptions","setup","dispatch","history","effects","approveBuss","payload","call","put","response","status","error","msg","err","isBussinessVerified","success","type","changePassword","user","JSON","parse","localStorage","getItem","email","username","val","password","old_password","oldPassword","otpchk","console","log","clearVerifyOTP","clearAction","reducers","action","getSellerBussines","busslist","busssellerlist","approveReset","clear"],"mappings":"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","sourcesContent":["import {approvebussiness , resetpassword, resendOTPTOUser, varifyUser, \r\n    } from '../services/api'\r\nimport {message} from 'antd'; \r\n\r\n\r\n\r\nexport default {\r\n  namespace: 'setting',\r\n\r\n  state: {\r\n    getBuss:{count:0},\r\n    update:{count:0}, \r\n    create:{count:0},\r\n    resetp:{count:0},\r\n    approve:{count:0},\r\n    otp:{count:0},\r\n    verifyotp:{count:0},\r\n    getSingleBussines: {}\r\n\t},\r\n\r\n  subscriptions: {\r\n    setup({ dispatch, history }) { \r\n    },\r\n  },\r\n\r\n  effects: {\r\n\r\n    *approveBuss({ payload }, { call, put }) {\r\n      const response = yield call(approvebussiness, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      if(response.status) {\r\n        if(payload.isBussinessVerified){\r\n            message.success('Business successfully approved!', 5);\r\n        }else{\r\n            message.success('Business successfully rejected!', 5);\r\n        }\r\n      } \r\n      yield put({ type: 'approve', ...response});\r\n    },\r\n    *changePassword({ payload }, { call, put }) {\r\n      let user =  JSON.parse(localStorage.getItem('user'));\r\n      const email = user.username;\r\n      let val = { username: email, password: payload.password, old_password: payload.oldPassword, otpchk: true };\r\n      const response = yield call(resetpassword, val);\r\n      console.log(payload)\r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      if(response.status) {message.success(response.msg || response.message, 5);\r\n      } \r\n      yield put({ type: 'resetp', ...response});\r\n    },\r\n    *resendOTPTOUser({ payload }, { call, put }) {\r\n      const response = yield call(resendOTPTOUser, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      // if(response.status) {message.success(response.msg || response.message, 5);} \r\n      yield put({ type: 'otp', ...response});\r\n    },\r\n    *varifyUser({ payload }, { call, put }) {\r\n      const response = yield call(varifyUser, payload); \r\n      if(!response.status) {message.error(response.msg || response.message || response.err, 5);}\r\n      if(response.status) {message.success(response.msg || response.message, 5);} \r\n      yield put({ type: 'verifyotp', ...response});\r\n    },\r\n    *clearVerifyOTP({ payload }, { call, put }) {\r\n      yield put({ type: 'clearVerifyOTP'});\r\n    },\r\n\t*clearAction({ payload }, { call, put }) {\r\n      yield put({ type: 'clear'});\r\n    },\r\n  },\r\n\r\n  reducers: {\r\n    getBuss(state, action) {\r\n      return { ...state, getBuss:action };\r\n    },\r\n    getSellerBussines(state, action) {\r\n      return { ...state, getBuss:action };\r\n    },\r\n    getSingleBussines(state, action) {\r\n      return { ...state, getSingleBussines:action };\r\n    },\r\n    busslist(state, action) {\r\n      return { ...state, busslist:action };\r\n    },\r\n    busssellerlist(state, action) {\r\n      return { ...state, busssellerlist:action };\r\n    },\r\n    create(state, action) {\r\n\t\taction.count = state.create.count+1;\r\n\t\treturn { ...state, create:action };\r\n    },\r\n    update(state, action) {\r\n      action.count = state.update.count+1;\r\n      return { ...state, update:action };\r\n    },\r\n    approve(state, action) {\r\n      action.count = state.approve.count+1;\r\n      return { ...state, approve:action };\r\n    },\r\n    approveReset(state, action) {\r\n      return { ...state, approve:{count:0} };\r\n    },\r\n    resetp(state, action) {\r\n      action.count = state.resetp.count+1;\r\n      return { ...state, resetp:action };\r\n    },\r\n    otp(state, action) {\r\n      return { ...state, otp:action };\r\n    },\r\n    verifyotp(state, action) {\r\n      return { ...state, verifyotp:action };\r\n    },\r\n    clearVerifyOTP(state, action) {\r\n\t\t  return { ...state, verifyotp:{count:0}};\r\n    },\r\n    clear(state, action) {\r\n\t\t  return { ...state, create:{count:0}, approve:{count:0}, update:{count:0}, resetp:{count:0}, otp:{count:0}, verifyotp:{count:0}};\r\n    },\r\n  },\r\n};"]},"metadata":{},"sourceType":"module"}