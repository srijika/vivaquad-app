{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/var/www/html/project/vivaquad/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Suspense}from'react';import{connect}from'dva';import'./BasicLayout.less';import SubRoute from'../../routes/SubRoute';import AppSidebar from'../../components/Sidebar/AppSidebar';import AppHeader from'../../components/AppHeader/AppHeader';import axios from'axios';import{Modal,Layout}from'antd';// import './announcement.scss' \nvar Content=Layout.Content,Sider=Layout.Sider;//Footer,\nvar baseUrl=process.env.REACT_APP_ApiUrl;var BasicLayout=/*#__PURE__*/function(_Component){_inherits(BasicLayout,_Component);var _super=_createSuper(BasicLayout);function BasicLayout(){var _this;_classCallCheck(this,BasicLayout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={collapsed:false,broke:false,mobileview:'',announcement:\"\"};_this.sidebarFun=function(){return _this.state.mobileview?_this.props.dispatch({type:'global/toggle'}):null;};_this.brokenFun=function(val){_this.setState({mobileview:val});if(val){if(!_this.props.global.toggleval)_this.props.dispatch({type:'global/toggle'});}if(!val){if(_this.props.global.toggleval)_this.props.dispatch({type:'global/toggle'});}};return _this;}_createClass(BasicLayout,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user_role,res,announcement;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user_role=localStorage.getItem('role');if(!(user_role===\"SELLER\")){_context.next=7;break;}_context.next=4;return axios.post(\"\".concat(baseUrl,\"/get/announcement/for/seller\"));case 4:res=_context.sent;announcement=res.data.announcement;if(announcement!=undefined&&announcement!=\"\"&&announcement!=null){this.setState({announcement:res.data.announcement.message});}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var global=this.props.global;var toggle=global.toggleval;return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"header\",{className:\"headerdiv\"},/*#__PURE__*/React.createElement(AppHeader,null)),this.state.announcement?/*#__PURE__*/React.createElement(\"div\",{style:{height:'50px',background:'white'}},/*#__PURE__*/React.createElement(\"marquee\",{style:{background:\"lightblue\",height:'50px'},class:\"ann-marquee\",behavior:\"scroll\",direction:\"left\",scrollamount:\"8\",loop:\"infinite\"},/*#__PURE__*/React.createElement(\"span\",{style:{position:\"relative\",top:\"15px\"}},\"  \",this.state.announcement,\"  \"))):\"\",/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Sider,{className:\"sidebarDiv\",breakpoint:\"sm\",collapsedWidth:\"35\",collapsed:toggle,onClick:this.sidebarFun},/*#__PURE__*/React.createElement(AppSidebar,this.props)),/*#__PURE__*/React.createElement(Content,{className:\"contentDiv\"},/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\")},/*#__PURE__*/React.createElement(SubRoute,this.props)))));}}]);return BasicLayout;}(Component);export default connect(function(_ref){var global=_ref.global,loading=_ref.loading;return{global:global,loading:loading};})(BasicLayout);","map":{"version":3,"sources":["/var/www/html/project/vivaquad/admin-vivaquad/src/pages/auth/BasicLayout.js"],"names":["React","Component","Suspense","connect","SubRoute","AppSidebar","AppHeader","axios","Modal","Layout","Content","Sider","baseUrl","process","env","REACT_APP_ApiUrl","BasicLayout","state","collapsed","broke","mobileview","announcement","sidebarFun","props","dispatch","type","brokenFun","val","setState","global","toggleval","user_role","localStorage","getItem","post","res","data","undefined","message","toggle","height","background","position","top","loading"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport { connect } from 'dva';\r\nimport './BasicLayout.less';\r\nimport SubRoute from '../../routes/SubRoute'\r\n\r\nimport AppSidebar from '../../components/Sidebar/AppSidebar'\r\nimport AppHeader from '../../components/AppHeader/AppHeader'\r\nimport axios from 'axios';\r\nimport {Modal,  Layout } from 'antd';\r\n\r\n\r\n// import './announcement.scss' \r\nconst {  Content, Sider } = Layout; //Footer,\r\nconst baseUrl = process.env.REACT_APP_ApiUrl;\r\nclass BasicLayout extends Component {\r\n\r\n\tstate = { collapsed: false, broke:false, mobileview:'', announcement: \"\"};\r\n\tsidebarFun=()=> this.state.mobileview ? this.props.dispatch({type: 'global/toggle'}) : null;\t\r\n\tbrokenFun = (val)=>{\r\n\t\tthis.setState({mobileview:val})\r\n\t\tif(val)\r\n\t\t\t{if(!this.props.global.toggleval) \r\n\t\t\t\tthis.props.dispatch({type: 'global/toggle'})}\r\n\t\tif(!val)\r\n\t\t\t{if(this.props.global.toggleval)\r\n\t\t\t\tthis.props.dispatch({type: 'global/toggle'})}\r\n\t}\r\n\r\n\t\r\n\tasync componentDidMount() {\r\n\r\n\t\tlet user_role = localStorage.getItem('role');\r\n\t\tif(user_role === \"SELLER\") {\r\n\t\t\tconst res = await axios.post(`${baseUrl}/get/announcement/for/seller`);\r\n\t\t\tlet announcement = res.data.announcement;\r\n\t\t\tif(announcement != undefined && announcement != \"\" && announcement != null) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tannouncement: res.data.announcement.message\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n\t\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\tconst {global} =this.props;\r\n\t\tconst toggle = global.toggleval;\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<header className=\"headerdiv\">\r\n\t\t\t\t\t<AppHeader/>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t{ this.state.announcement ? \r\n\t\t\t\t<div style={{ height: '50px', background: 'white', }}>\r\n\t\t\t\t\t<marquee style={{ background: \"lightblue\", height: '50px' }} class=\"ann-marquee\" behavior=\"scroll\" direction=\"left\" scrollamount=\"8\" loop=\"infinite\">\r\n\t\t\t\t\t\t<span style={{ position: \"relative\", top: \"15px\" }}>  {this.state.announcement}  </span>\r\n\t\t\t\t\t</marquee>\r\n\t\t\t\t</div>\r\n\t\t\t\t: \"\"}\r\n\t\t\t\t\r\n\t\t\t\t{/* { this.state.announcement ? \r\n                <div style={{ height: '50px', background: 'white' }}>\r\n                <section class=\"section_my\">\r\n                    <p class=\"marquee text-styling\" style={{ color: 'black' }}> {this.state.announcement}.</p>\r\n                </section>\r\n                </div>\r\n                : \"\"}  */}\r\n\r\n\t\t\t\t\r\n \r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Sider className=\"sidebarDiv\"  breakpoint=\"sm\" collapsedWidth=\"35\"  collapsed={toggle} onClick={this.sidebarFun}>\r\n\t\t\t\t\t\t<AppSidebar {...this.props} /> \r\n\t\t\t\t\t</Sider>\r\n\t\t\t\t\t{/* <Layout> */}\r\n\t\t\t\t\t<Content className=\"contentDiv\">\r\n\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>} >\r\n\t\t\t\t\t\t<SubRoute {...this.props}/>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t</Content> \r\n\t\t\t\t</Layout>\r\n\r\n\r\n\t\t\t\r\n\t\t\t</Layout>\r\n\t\t);\r\n   \t}\r\n} \r\nexport default connect(({global, loading}) => ({\r\n\tglobal, loading\r\n}))(BasicLayout);"]},"metadata":{},"sourceType":"module"}